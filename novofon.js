!function(e,t){for(var n in t)e[n]=t[n]}(this,function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n=window.ComagicJsonp;window.ComagicJsonp=function(i,a){for(var s,r,l=0,c=[];l<i.length;l++)r=i[l],o[r]&&c.push.apply(c,o[r]),o[r]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);for(n&&n(i,a);c.length;)c.shift().call(null,t)};var i={},o={0:0};return t.e=function(e,n){if(0===o[e])return n.call(null,t);if(void 0!==o[e])o[e].push(n);else{o[e]=[n];var i=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.src=t.p+"comagic.widgets.min.js",i.appendChild(a)}},t.m=e,t.c=i,t.p="",t(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);if(window.__isComagicScriptLoaded)throw new Error('WARNING! Duplicate of "_cs" is found. Standard functions of "_cs" are at holt. Please check your site settings and delete the duplicate instance.');window.__isComagicScriptLoaded=!0;var o=n(4),a=n(6),s=n(9),r=n(13),l=n(12),c=n(21),u=n(111),d=n(29),p=n(30),m=n(3),_=m.essential.apply,g=n(113),h=n(121),f=n(122),v=n(123),b=n(28),w=n(124),E=n(125),y=n(126),k=n(32);window.__cs=window.__cs||[],window.Comagic=window.Comagic||{},window.CallGear=window.Comagic,window.Connecticalls=window.Comagic,window.LookHook=window.Comagic,window.RT=window.Comagic,window.Novofon=window.Comagic;var T=window.Comagic;_(T,d.API),t.ComagicWidget={},T.Captcha={},t.ComagicWidget.openSitePhonePanel=T.openVASitePhonePanel,t.ComagicWidget.sitePhoneCall=T.sitePhoneCall,T.UI={},T.UI.registerViewController=f.registerViewController,a.EventBus.on("ss:waitforloadcorescripts",function(e,t,s){var l=function(e){return t.widgets.hasOwnProperty(e)&&null!==t.widgets[e]},c=["personal_form","call_generator","offline_message_generator"];if(t.widgets.hasOwnProperty("lead")){delete t.widgets.lead;for(var d=0;d<c.length;d++)t.widgets[c[d]]={}}e.isWidgetsDisabled()||(g.init(h.DEFAULT_WIDGET_VIEWS_OPTIONS,"prod"),u.Core.init(t,s)),n.p=new m.essential.URL(s).replace({path:"/widget/js/"});var f=t.comagic_web_url,v=""+f+t.api.path+t.api.key+"/";p.ComagicWebApi.init(v),n.e(2,function(){var e=n(38).Ws,c=n(127).ConsultantController,u=n(130).LeadController,d=n(131).SitephoneController,p=n(132).ConsultantApi,m=n(35).Hub,g=n(133).WhatsappController;_(T,p),_(T.UI,n(117)),_(T.UI,n(134)),T.Captcha.get_captcha=T.getCaptcha,o.Queue.registerAndProcess(["uiApiLoaded"],{__commands:["uiApiLoaded"],uiApiLoaded:function(e){e&&e()}},!0),l("sitephone")&&!r.SiteSettings.params("analytics")&&o.Queue.push("waitForSiteSettingsAndRun",function(){d.init(t.widgets.sitephone,s),m.send("sitephone","sitephone_init")}),o.Queue.push("waitForTrackViewAndRun",function(){var n=l("leadgen"),p=l("consultant"),_=l("sitephone"),h=l("personal_form"),f=p||h||n;n&&o.Queue.push("waitForSiteSettingsAndRun",function(){k.Leadgen.init(t)}),f&&e.onSession(r.SiteSettings.info().host||t.server_url),_&&(console.log("request start"),d.init(t.widgets.sitephone,s),f||2===+i.CookieShop.get(i.CookieShop.ALY_OFFLINE)||m.send("sitephone","sitephone_init")),p&&(c.init(s),g.init(t.widgets.whatsapp,t.widgets.consultant,s)),(h||p)&&u.init(s),m.send("consultant","init",{get_history:!c.isChatHistoryExist(),get_vcard:p}),a.EventBus.on("ws:timetoreinit",function(){m.send("consultant","reinit")})})})}),r.SiteSettings.init(),a.EventBus.on("aly:trackview",b.VisitorTracking.onAlyTrackview),a.EventBus.on("aly:trackview",c.StaticTracking.onAlyTrackview),a.EventBus.on("aly:trackview",s.Events.onAlyTrackview),a.EventBus.on("aly:trackview",E.Smartis.onAlyTrackview),a.EventBus.on("aly:trackview",y.CallBackHunter.onAlyTrackview),a.EventBus.on("aly:trackview",v.VisitorIdEmbedder.run),o.Queue.push("waitForSiteSettingsAndRun",function(e){l.Analytics.init(),c.StaticTracking.init(e),w.RelatedServices.init(e.related_services)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2);!function(e){function t(e){h=e()}function n(){this._expires||(this._expires={},this._expires[this.DEBUG]=-1,this._expires[this.DT_PHONES]=18e5,this._expires[this.DT_EMAILS]=18e5,this._expires[this.WS_OFFLINE]=18e5,this._expires[this.ALY_OFFLINE]=18e5,this._expires[this.COMAGIC_ID]=63072e6)}function i(e){return this._expires[e]}function a(){this._setupExpires()}function s(e){return e+h}function r(e,t,n){return o.cookie.set(this.getName(e),t,n||this._getExpires(e))}function l(e){return o.cookie.get(this.getName(e))}function c(e){return o.cookie.getAll(this.getName(e))}function u(e){return this.remove(e)}function d(e){return o.cookie.remove(this.getName(e))}function p(){var e=this.getComagicId();return e?e.split(this._ciSeparator)[0]:null}function m(){var e=this.getComagicId();return e?e.split(this._ciSeparator)[1]:null}function _(e){this.set(this.COMAGIC_ID,e)}function g(){var e,t=this.getAll(this.COMAGIC_ID);if(!t.length)return null;e=t.shift();for(var n,i=0;n=t[i];i++)+n.split(this._ciSeparator)[2]>+e.split(this._ciSeparator)[2]&&(e=n);return e}e.EMAIL_REPLACEMENT="_cmg_emr",e.TRACKING_EMAILS="_cmg_emails",e.PHONE_REPLACEMENT="_cmg_phr",e.TRACKING_PHONES="_cmg_phones",e.DT_PHONES="_cmg_dt",e.DT_EMAILS="_cmg_dt_emt",e.ACK_DT_PHONE_RESERVATION_DONE="_cmg_adpr_done",e.FORCED_PHONES_REPLACEMENT_REQUIRED="_cmg_fprr";var h;e.BANNER_STATE="_comagic_banner_state",e.DEBUG="_comagic_debug",e.WS_OFFLINE="_comagic_offline",e.ALY_OFFLINE="_comagic_aly_offline",e.COMAGIC_ID="_comagic_id",e.CLIENT_SESSION_START_TIME="_cmg_csst",e._ciSeparator=".",e._expires=null,e.setUniquePostfix=t,e._setupExpires=n,e._getExpires=i,e.setup=a,e.getName=s,e.set=r,e.get=l,e.getAll=c,e.del=u,e.remove=d,e.getVisitorId=p,e.getSessionId=m,e.setComagicId=_,e.getComagicId=g}(i=t.CookieShop||(t.CookieShop={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3);!function(e){function t(e,t,n){o.essential.isUndefined(t)&&this.remove(e),n=n||63072e6;var i=new Date,a=[];i.setTime(i.getTime()+n),a.push(e+"="+encodeURIComponent(t)),a.push("path=/"),this.getDomain()&&a.push("domain="+this.getDomain()),n!=-1&&a.push("expires="+i.toUTCString()),document.cookie=a.join(";")}function n(e){var t=i.getAll(e);return t.length?t[0]:null}function a(e){for(var t,n=[],i=e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1"),o=new RegExp("(?:^|; )"+i+"=([^;]*)","g");t=o.exec(document.cookie);)n.push(decodeURIComponent(t[1]));return n}function s(e){var t=new Date(0).toUTCString();document.cookie=e+"=; expires="+t+"; domain="+i.getDomain()+"; path=/;"}function r(){return u}function l(e){u=e;var t="cmgtest";this.set(t,t),t!=this.get(t)&&(u=null),this.remove(t)}function c(){return navigator.cookieEnabled||"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1)}var u=0==document.domain.indexOf("www.")?document.domain.substring(4):document.domain;e.set=t,e.get=n,e.getAll=a,e.remove=s,e.getDomain=r,e.setDomain=l,e.isEnabled=c}(i=t.cookie||(t.cookie={}))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){function t(e,n,i){if(i&&t(e,i),e&&n&&"object"==typeof n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o]);return e}function n(e,i){var o=t({},e);if(i)for(var a in i)o.hasOwnProperty(a)&&r(o[a])&&r(i[a])?o[a]=n(o[a],i[a]):o[a]=i[a];return o}function i(e,t){for(var n,i=t||window,o=e.split("."),a=0;n=o[a];a++)i=i[n]=i[n]||{};return i}function o(e,t){var n;if(t=t||"","string"==typeof e)n=e;else{var i=[];for(var o in e)e.hasOwnProperty(o)&&i.push(o+"="+encodeURIComponent(e[o]));n=i.join("&")}return t&&n.length&&n.indexOf(t)===-1&&(n=t+n),n}function a(e,t){var n={};for(var i in e)t(e[i])||(n[i]=e[i]);return n}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!==e&&"object"==typeof e}function l(e){return e===!!e}function c(e){return"number"==typeof e}function u(e){return"string"==typeof e}function d(e){return""===e}function p(e){return"function"==typeof e}function m(e){return void 0===e}function _(e){return e instanceof HTMLElement}function g(e){return/^(?:\w+:)?\/\/([^\s\.]+\.\S{2}|localhost[\:?\d]*)\S*$/.test(e)}function h(e){return m(e)||null===e||""===e||s(e)&&0===e.length||r(e)&&f(e)}function f(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function v(e){return"[object Arguments]"===Object.prototype.toString.call(e)}function b(e){return s(e)?e:v(e)?Array.prototype.slice.call(e):[e]}function w(e){for(var t=new Array(e.length),n=e.length;n--;)t[n]=e[n];return t}function E(e){function t(){var e=i.exec(n.url);n.protocol=e[2]||"https",n.host=e[5]||"",n.port=e[6]||"",n.path=e[7]||"/",n.query=e[8]||"",n.hash=e[10]||""}var n=this,i=new RegExp("^(([^:/\\?#]+):)?(//(([^:/\\?#]*)(?::([^/\\?#]*))?))?([^\\?#]*)(\\?([^#]*))?(#(.*))?$");this.url=e,this.replace=function(e){e=e||{};var t=e.protocol||n.protocol,i=e.host||n.host,a=e.port||n.port,s=e.path||n.path,r=o(e.query||n.query,"?"),l=e.hash||n.hash;return(t?t+":":t)+"//"+i+(a?":"+a:a)+s+r+(l?"#"+l:l)},this.toString=function(){return this.replace()},t()}function y(e){var t=(new Date,(new Date).getTime()),n=(new Date).setHours(0,0,0,0),i=[];e=e.map(function(e){return 1e3*e});for(var o=0,a=e;o<a.length;o++){var s=a[o];if(!(s<t)){for(var r=!1;s>=n;)r=!0,n+=864e5;r&&i.push({date:n-864e5,times:[]}),i[i.length-1].times.push(s)}}return i}function k(e,t,n){if(t)for(var i=0;i<e.length;i++)if(e[i].id===t)return e[i].id;return n}e.apply=t,e.mergeObjects=n,e.ns=i,e.ensureQueryString=o,e.filterObjectByFn=a,e.isArray=s,e.isObject=r,e.isBoolean=l,e.isNumber=c,e.isString=u,e.isEmptyString=d,e.isFunction=p,e.isUndefined=m,e.isHTMLElement=_,e.isUrl=g,e.isEmpty=h,e.isObjectEmpty=f,e.isArguments=v,e.toArray=b,e.copyArray=w,e.URL=E,e.groupTimes=y,e.widgetDefaultPrefixCountry=k}(n=t.essential||(t.essential={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),a=n(5);!function(e){function t(e,t,n,i){var o=e[t];if("function"==typeof o)return o.apply(n||e,i)}function n(e,t,n){v.push([].slice.call(arguments))}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var e=[].concat(arguments);e.unshift("[Queue]"),a.util.log.apply(a.util,e)}function s(e,t){return o.essential.isArray(e)?f.push(e):this.push([e,o.essential.toArray(t)])}function r(e){if(o.essential.isUndefined(e))return f.shift();if(o.essential.isNumber(e))return f.splice(e,1)[0];if(o.essential.isString(e))for(var t,n=0;t=f[n];n++)if(o.essential.isArray(t)&&t[0]===e)return this.shift(n)}function l(e){if(o.essential.isUndefined(e))return f[0];if(o.essential.isNumber(e))return f[e];if(o.essential.isString(e))for(var t,n=0;t=f[n];n++)if(o.essential.isArray(t)&&t[0]===e)return t;return null}function c(e,t){for(var n;n=f.shift();)this._process(n,e,t)}function u(e,t,a,s){i("going to process commands",e,"of",t),o.essential.isBoolean(a)&&(s=a,a=void 0),s&&n(e,t,a),this._processCommands(e,t,a)}function d(e){for(var t,n=e.__commands,i=0;t=n[i];i++){if(b.hasOwnProperty(t)&&b[t]!==e)throw{message:'uLiB.util.Queue detected command conflict: "'+t+'"',command:t,existingObj:b[t],newObj:e};b[t]=e}}function p(e,t,n,i){this.register(t),this.processCommands(e,t,n,i)}function m(e,n,s){if(!e)return null;e=o.essential.copyArray(e);var r,l;return r=e.shift(),l=1===e.length&&o.essential.isArray(e[0])?e[0]:e,i(a.util.sformat("processing {0}({1})",r,l)),t(n,r,s||n,l)}function _(e,t,n){for(var o,a,s=0;o=e[s];s++)t.__commands&&t.__commands.indexOf(o)!==-1&&(a=this.shift(o),this._process(a,t,n)===!1&&(i("smth. wrong with",o,a,"pushing back"),this.push(a)))}var g=window,h=["Comagic","__cs"],f=[],v=[],b={};e.maybeCall=t,e.addCommandToWatchFor=n,e.log=i;for(var w,E=0;w=h[E];E++)g[w]&&o.essential.isArray(g[w])&&(f=f.concat(g[w]),"__cs"===w&&(g[w]=e));e.push=s,e.shift=r,e.peek=l,e.process=c,e.processCommands=u,e.register=d,e.registerAndProcess=p,e._process=m,e._processCommands=_,window.setInterval(function(){for(var t,n=0;t=v[n];n++)_.apply(e,t)},100)}(i=t.Queue||(t.Queue={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),a=n(1),s=n(6),r=n(8);!function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var t=[].slice.call(arguments),i=Re[t[0]]||"";t.unshift(i),t.unshift("%c"+e.getTimeStr()),e.__debug&&Ne.console&&console.log.apply&&console.log.apply(console,t)}function n(){var t=[].slice.call(arguments);t.unshift("[Comagic]"),e.__debug&&console.error.apply(console,t)}function i(e){var t=this.__debugparams;return!e||"encodejson"==e&&this.isObject(t)?"encodejson"==e?JSON.stringify(t):t:this.isObject(t)&&t[e]||""}function l(e){return e.replace(/(?:^|[-_])(\w)/g,function(e,t){return t?t.toUpperCase():""})}function c(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o,a=arguments[0],s=arguments[1];if(this.isObject(s)){var r,l,c={};for(o=/{([^}]+)}/g;r=o.exec(a);)r=r[1],l=s[r],void 0!==l&&(("cls"==r||this.endsWith(r,"Cls"))&&(l=this.getCssSelector(l,!0)),c[r]=l);for(var u in c)c.hasOwnProperty(u)&&(o=new RegExp("\\{"+u+"\\}","gm"),a=a.replace(o,c[u]))}else for(var d=0;d<arguments.length-1;d++)o=new RegExp("\\{"+d+"\\}","gm"),a=a.replace(o,arguments[d+1]);return a}function u(e,t){return e.indexOf(t,e.length-t.length)!=-1}function d(e,t){if(o.essential.isArray(t)){for(var n,i=0;n=t[i];i++)if(this.startsWith(e,n))return!0;return!1}return 0==e.indexOf(t)}function p(e,t){return this.endsWith(e,t)?e:e+t}function m(e){return e.replace(/(<([^>]+)>)/gi,"")}function _(e){return(""+e).replace(this.C.RE_HREF,function(){var e=arguments;return c('{0}<a href="{1}{2}">{2}</a>',e[1],e[3]||"",encodeURI(e[5]))}).replace('href="www.','href="http://www.').replace('href="://','href="http://')}function g(e){return e.replace(/\n\r/g,"<br/>").replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/\r/g,"<br/>")}function h(e){return e.replace("/<br/>/g","\n")}function f(e){return e=""+e,e.replace(/\s/g,"")}function v(e,t){for(var n=e||"",i=n.split(" "),o=[""],a=0;a<i.length;a++){var s=o[o.length-1];!s.length||s.length+i[a].length<t-1?o[o.length-1]=[s,i[a]].join(" ").trim():o.push(i[a])}return o}function b(e){return["1","7"].indexOf(e.raw.substring(0,1))!==-1?1:["20","27","30","31","32","33","34","36","39","40","41","43","44","45","46","47","48","49","51","52","53","54","55","56","57","58","60","61","62","63","64","65","66","81","82","84","86","90","91","92","93","94","95","98"].indexOf(e.raw.substring(0,2))!==-1?2:3}function w(e,t){return e.raw&&e.raw.startsWith("79")?3:e.len?e.len:e.prefix?e.prefix.length-t:3}function E(e){"77"===e.prefix&&(e.prefix="7");var t=this.getCountryLength(e);e.prefix&&e.prefix.length===t&&(e.prefix=null);var n=e.mask,i=e.format||"+{country} ({city}) {phone}",o=this.getCityLength(e,t),a=e.raw&&e.raw.substr(o+t),s=n&&(n.match(/#/g)||[]).length,r=a&&a.length,l=e.text,c=0;if((!a||!n)&&l)return l;if(s>r)for(var u=0;u<s-r;u++)n=n.replace("#","");else if(s<r)for(var u=0;u<r-s;u++)n="#"+n;return a=n.replace(/#/g,function(){return a[c++]||""}),this.sformat(i,{country:e.raw.substr(0,t),city:e.raw.substr(t,o),phone:a})}function y(e){return/\S/.test(e)}function k(e){var t=e.getDate(),n=e.getMonth()+1,i=e.getFullYear();return""+i+"-"+(n<=9?"0"+n:n)+"-"+(t<=9?"0"+t:t)}function T(e){e=e||new Date;var t=e.getHours(),n=e.getMinutes();return t<10&&(t="0"+t),n<10&&(n="0"+n),t+":"+n}function S(e,t){var n;return"number"==typeof e?n=new Date(1e3*e):(t=t||0,e=e.split(/(?:\s|T)/),e[0]=e[0].split("."),e[1]=e[1].split(":"),n=new Date(e[0][2],e[0][1],e[0][0],e[1][0],e[1][1],e[1][2])),n.setTime(e.getTime()-1e3*t),n}function A(){return+new Date}function O(){return this.timeDelta}function I(e){this.timeDelta=e}function C(e,t,n){for(var i=n||0,o=e.length;i<o;i++)if(e[i]===t)return i;return-1}function N(e,t){if(o.essential.isArray(t)){for(var n,i=0;n=t[i];i++)if(this.arrayIsContain(e,n))return!0;return!1}return this.arrayIndexOf(e,t)!==-1}function R(e,t,n){for(var i=0;i<e.length;i++)t.call(n,e[i],i,e)}function P(e,t,n){for(var i,o=[],a=0;i=e[a];a++)t.call(n||Ne,i)!==!1&&o.push(i);return o}function L(e,t){return this.arrayIndexOf(t,e)}function M(e,t,n){return function(){var i=[].slice.call(arguments);return e.apply(t,i.concat(n))}}function j(e,t,n){return function(){var i=e.apply(n,arguments);return i?(s.EventBus&&s.EventBus.fireEvent.apply(s.EventBus,["ulib:event"].concat(i)),t.apply(n,i)):null}}function D(e,t,n,i){return o.essential.isFunction(e)&&(t=e),o.essential.isObject(t)&&(n=t),o.essential.isString(t)&&o.essential.isObject(e)&&(t=e[t]),void 0===n&&o.essential.isObject(e)&&(n=e),o.essential.isArray(t)&&(i=t),o.essential.isArray(n)&&(i=n),o.essential.isFunction(t)?t.apply(n||this,i||[]):null}function x(e,t){this.isString(t)&&(t=this.getObjByName(t));var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype}function U(e,t,n,i){var o=Array.prototype.slice.apply(arguments);if(e=o.shift(),t=o.shift(),n=o.shift()||[],this.isString(t)&&(t=this.getObjByName(t)),this.isString(n)&&(i=n,n=[]),!i)throw"Name of the mixin within the target must be specified";if(!t)throw"Cannot mix-in from undefined source";if(!e)throw"Cannot mix-in to undefined target";if(!e.prototype.hasOwnProperty("mixins")){var a=e.prototype.mixins;if(e.prototype.mixins={},a)for(var s in a)e.prototype.mixins[s]=a[s]}if(t=this.isFunction(t)?t.prototype:t,i&&(e.prototype.mixins[i]=t),n.length)for(var r=0,l=void 0;l=n[r];r++)e.prototype[l]=this.isFunction(t)?t.prototype[l]:t[l];else for(var l in t)e.prototype[l]=t[l]}function F(e,t){this.isArray(t)||(t=[t]);for(var n,i=0;n=t[i];i++){if(this.isString(n)&&(n=this.getObjByName(n)),e instanceof n)return!0;var o=e.mixins;if(o)for(var a,s=0;a=o[s];s++)if(e instanceof a)return!0}return!1}function H(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n]);return e}function W(e,t){if(!e)return!1;for(var n,i=t||Ne,o=e.split("."),a=0;n=o[a];a++)if(!(i=i[n]))return!1;return!0}function G(e){for(var t,n=Ne,i=e.split("."),o=[],a=0;t=i[a];a++){if(!n[t])return this.error("Property",t,"of",o.join("."),"is not an Object"),null;n=n[t],o.push(t)}return n}function V(e){return decodeURI((new RegExp(e+"=(.+?)(&|$)").exec(Ne.location.search)||[,""])[1])}function B(e){return decodeURI((new RegExp(e+"=(.+?)(&|$)").exec(Ne.location.hash)||[,""])[1])}function X(e){if(!e||"object"!=typeof e)return e;var t,n,i="function"==typeof e.pop?[]:{};for(t in e)e.hasOwnProperty(t)&&(n=e[t],n&&"object"==typeof n?i[t]=this.clone(n):i[t]=n);return i}function K(e,t){return this.isString(t)&&(t=this.getObjByName(t)),e instanceof t}function q(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function Y(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n])}function Q(e,t){var n=document.createElement("script");return n.src=new o.essential.URL(e).toString(),n.async=!0,n.onload=t,document.head.appendChild(n),n}function Z(e,t){var n=e[t];return delete e[t],n}function J(e){var t=this.sessionStorage().getItem(e);null===t&&(t=this.localStorage().getItem(e));var n=JSON.parse(t);return n&&n.ezstorage?n.value:n}function z(e,t,n){return(n?this.localStorage():this.sessionStorage()).setItem(e,JSON.stringify(t))}function $(e){var t="testtesttest";e.setItem(t,"1"),e.removeItem(t)}function ee(){try{return this._checkStorage(window.localStorage),window.localStorage}catch(e){return this.log("window.localStorage not available. emulate"),this.apply(this._localStorage,this._storageApi)}}function te(){try{return this._checkStorage(window.sessionStorage),window.sessionStorage}catch(e){return this.log("window.sessionStorage not available. emulate"),this.apply(this._sessionStorage,this._storageApi)}}function ne(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function ie(e){return(e<10?"0":"")+e}function oe(e){return void 0===e&&(e=new Date),this.padNumber(e.getHours())+":"+this.padNumber(e.getMinutes())+":"+this.padNumber(e.getSeconds())+"."+e.getMilliseconds()}function ae(){return Math.round((new Date).getTime()/1e3)}function se(e){return 1e3*Math.pow(2,e)+Math.round(1e3*Math.random())}function re(e,t){return Math.floor(Math.random()*(t-e+1))+e}function le(e){for(var t=e.substring(1).split("&"),n={},i=0;i<t.length;i++){var o=t[i].split("=");if(o[0])try{n[o[0]]=decodeURIComponent(o[1])}catch(e){}}return n}function ce(){return le(window.location.search)}function ue(){return le(window.location.hash)}function de(e){if(0===e.indexOf("/")){var t=/(\w+)\[(\d+)\]/,n=e.split("/");n.splice(0,1);for(var i=0;i<n.length;i++)t.test(n[i])&&(n[i]=n[i].replace(t,function(e,t,n){return t+":eq("+(parseInt(n,10)-1)+")"}));return n.join(" > ")}return e}function pe(){var e=te();if(e)return e.getItem("cmg:debugExternalChatComagicWebUrl")}function me(){return e.isDeviceTypePhone||e.C.IS_PHONE?"mobile":e.C.IS_TABLET?"tablet":"desktop"}function _e(e){return e===Object(e)}function ge(e){var t=document.createElement("comagic");return t.innerHTML=e.trim(),t.childNodes[0]}function he(e){var t=document.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),t}function fe(t){var n=a.CookieShop;try{void 0===t?e.__debug=void 0!==ce()._comagic_set_debug?ce()._comagic_set_debug:void 0!==ue()._comagic_set_debug?ue()._comagic_set_debug:C([1,!0,"true","1"],n.get(n.DEBUG))!==-1:(e.__debug=C([1,!0,"true","1"],t)!==-1,n.set(n.DEBUG,t,-1))}catch(e){console.log(e)}}function ve(e){return e=encodeURIComponent(e||document.location.href),0===decodeURIComponent(e).indexOf("file:///")}function be(e){if(null===e)return"null";var t=typeof e;if("undefined"===t||"string"===t||"number"===t||"boolean"===t)return t;var n=Object.prototype.toString,i=n.call(e);if(void 0!==e.length&&"function"!=typeof e)return"array";switch(i){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}return"function"===t?"function":"object"===t?"object":void 0}function we(e,t){e=e||{};for(var n in t)"object"==typeof t[n]?e[n]=we(e[n],t[n]):e[n]=t[n];return e}function Ee(e){return"number"==typeof e&&isFinite(e)}function ye(e){return"string"==typeof e}function ke(e,t){var n=r.KEY.CODES;switch(e){case n.ZERO:case n.ONE:case n.TWO:case n.THREE:case n.FOUR:case n.FIVE:case n.SIX:case n.SEVEN:case n.EIGHT:case n.NINE:case n.NUM_ZERO:case n.NUM_ONE:case n.NUM_TWO:case n.NUM_THREE:case n.NUM_FOUR:case n.NUM_FIVE:case n.NUM_SIX:case n.NUM_SEVEN:case n.NUM_EIGHT:case n.NUM_NINE:if(void 0!==t&&void 0!==t.keyIdentifier){if(t.target&&t.target.getAttribute&&t.target.getAttribute("c-no-key-identifier-check"))return!0;switch(t.keyIdentifier){case"U+0030":case"U+0031":case"U+0032":case"U+0033":case"U+0034":case"U+0035":case"U+0036":case"U+0037":case"U+0038":case"U+0039":return!0;default:return!1}}return!0;default:return!1}}function Te(e,t){e=e.browserEvent||e;var n=e["page"+t];return n||0===n||(n=e["client"+t]||0),n}function Se(e){return[Te(e,"X"),Te(e,"Y")]}function Ae(e){return/[^\u0000-\u00ff]/.test(e)}function Oe(e,t){var n,i=this;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout(function(){e.apply(i,o)},t)}}function Ie(){this.__debugparams=this.getURLParameter("bannerdebug"),this.__debugger=2==this.getURLParameter("bannerdebug");try{this.__debugparams=JSON.parse(this.__debugparams)}catch(e){this.log("Cannot parse debug params. Going to plain debug mode.")}var e=this.getURLParameter("time_delta");""!==e&&this.dSetTimeDelta(e)}var Ce,Ne=window,Re=(Ne.__cs,{"[Ws]":"background: #88FF88","[Queue]":"background: #FF8866","[Aly]":"background: #FFFF66","[CallTracking]":"background: #8181F7","[PhoneReplacer]":"background: #81BEF7","[DynamicalTracking]":"background: #81FFF7","[Lead]":"background: #BDBDBD","[Omni WS]":"background: #8EACBB","[Leadgen]":"background: #7ea935"});!function(e){e.IS_IE_LT_11=!!Function("/*@cc_on return true@*/")(),e.IS_IE_LT_10=!window.navigator.msPointerEnabled&&!!Function("/*@cc_on return true@*/")(),e.IS_IE_LT_9=!Ne.document.addEventListener,e.IS_IE_LT_8=!Ne.document.querySelector,e.IS_TOUCH_DEVICE=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4)),e.IS_PHONE=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(navigator.userAgent||navigator.vendor)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor).substr(0,4)),e.IS_TABLET=e.IS_TOUCH_DEVICE&&!e.IS_PHONE,e.IS_IOS=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].indexOf(Ne.navigator.platform)!==-1,e.IS_ANDROID=navigator.userAgent.toLowerCase().indexOf("android")!==-1,e.IS_FIREFOX=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,e.RE_EMAIL=/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,e.RE_PHONE=/^\d{9,15}$/,e.RE_HREF=/(^|\s)(((?:http|https|ftp|):\/\/(?:[^:]+:[^@]+@)?)|(.{0}(?=www\.)))([^\s]+)+/gim,e.ZZZZZZ="ZZZZZZ",e.VALID_FILE_EXTENSIONS=["png","xpm","jpg","doc","docx","txt","xls","xlsx","csv","odt","ods","pdf","djvu","xml","fb2","epub"]}(Ce=e.C||(e.C={})),e.log=t,e.error=n,e.getDebugParam=i,e.camelize=l,e.sformat=c,e.endsWith=u,e.startsWith=d,e.ensureEndsWith=p,e.stripTags=m,e.textLinksToHtml=_,e.crLfToBr=g,e.brToCrLf=h,e.strim=f,e.getChunks=v,e.getCountryLength=b,e.getCityLength=w,e.formatPhone=E,e.isNotContainsOnlyWhitespaces=y,e.dformat=k,e.tformat=T,e.dApplyTimeDelta=S,e.dnow=A,e.dGetTimeDelta=O,e.dSetTimeDelta=I,e.arrayIndexOf=C,e.arrayIsContain=N,e.arrayForEach=R,e.arrayFilter=P,e.inArray=L,e.bind=M,e.wrapEvent=j,e.maybeCall=D,e.extend=x,e.mixIn=U,e.isinstance=F,e.applyIf=H,e.isNs=W,e.getObjByName=G,e.getURLParameter=V,e.getHashParameter=B,e.clone=X,e.isInstance=K,e.okeys=q,e.ovalues=Y,e.loadScript=Q,e.opop=Z,e.storageGet=J,e.storageSet=z;var Pe;!function(e){e.items={}}(Pe=e._localStorage||(e._localStorage={}));var Le;!function(e){e.items={}}(Le=e._sessionStorage||(e._sessionStorage={}));var Me;!function(e){function t(e){var t=this.items[e];return void 0===t?null:t}function n(e,t){this.items[e]=""+t}function i(e){delete this.items[e]}e.getItem=t,e.setItem=n,e.removeItem=i}(Me=e._storageApi||(e._storageApi={})),e._checkStorage=$,e.localStorage=ee,e.sessionStorage=te,e.uuid=ne,e.padNumber=ie,e.getTimeStr=oe,e.getTimestamp=ae,e.getExponentialBackoff=se,e.getRandomInt=re,e.getUrlParams=le,e.getUrlQuery=ce,e.getUrlHash=ue,e.prepareSelector=de,e.getDebugExternalChatComagicWebUrl=pe,e.getDeviceType=me,e.isObject=_e,e.createElFromHtml=ge,e.createLinkTag=he,e.setDebug=fe,e.isUriLocal=ve,e.typeOf=be,e.apply=we,e.isNumber=Ee,e.isString=ye;var je=navigator.userAgent.toLocaleLowerCase();e.isOpera=/opera/i.test(je),e.isWebKit=/webkit/i.test(je),e.isGecko=!e.isWebKit&&/gecko/i.test(je),e.isChrome=/chrome/i.test(je),e.isIE=!e.isOpera&&/msie/i.test(je)||/trident.*rv\:11\./i.test(je)||/edge/i.test(je),e.isSafari=/safari/i.test(je)&&!/chrome/i.test(je),e.isiPhone=/iphone/i.test(je),e.isAndroid=/android/i.test(je),e.isiPad=/ipad/.test(je),e.isDeviceTypePhone=e.C.IS_PHONE,e.isKeyNum=ke,e.getXY=Se,e.isTouch=void 0!==document.ontouchstart,e.containsNonLatinCodepoints=Ae,e.debounce=Oe,e.init=Ie,e.init()}(i=t.util||(t.util={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7);t.EventBus=new i.Observable},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=function(){function e(){this.initObservable()}return e.prototype.initObservable=function(){this.events={}},e.prototype.on=function(e,t,n){if(i.essential.isObject(e)){n=e.scope;for(var o in e)e.hasOwnProperty(o)&&this.on(o,e[o],n)}var a=this.events[e]||[];a.push({fn:t,scope:n}),this.events[e]=a},e.prototype.un=function(e,t){for(var n,i=this.events[e]||[],o=[],a=0;n=i[a];a++)n.fn!==t&&o.push(n);this.events[e]=o},e.prototype.fireEvent=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o,a=Array.prototype.slice.apply(arguments),s=!0;e=a.shift(),o=this.events[e]||[];for(var r=0,l=void 0;l=o[r];r++)s=!1!==l.fn.apply(l.scope||this,a)&&s;
return s},e.prototype.hasListeners=function(e){return!(!this.events[e]||!this.events[e].length)},e}();t.Observable=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){var t;!function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.RETURN=13]="RETURN",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.ESC=27]="ESC",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.DOT=190]="DOT"}(t=e.CODES||(e.CODES={})),e.MAP={48:"0",49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9,107:"+",109:"-",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",190:"."}}(n=t.KEY||(t.KEY={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(5),a=n(10),s=n(11),r=n(12);!function(e){function t(e){o.util.log("Sending event notification, event:",e),b(e)}function n(e){if(e){var t=a.dimension.getWindowScrollTop(),n=a.dimension.getWindowHeight()+t,i=a.dimension.offset(e).top,o=i+e.clientHeight;return o<=n&&i>=t}return!1}function i(e){for(var n in E)if(E.hasOwnProperty(n))for(var i,o=document.querySelectorAll(n),a=0;i=o[a];a++)if(e.target===i){t(E[n]);break}}function l(e){for(var n in y)if(y.hasOwnProperty(n))if(n==k){if(e.target.href&&e.target.href.indexOf(T)==-1){t(y[n]);break}}else if(e.target.href&&e.target.href.match(new RegExp(n))){t(y[n]);break}}function c(e){s.un(window,"scroll",f),t(w.scrollStart)}function u(e){a.dimension.getWindowScrollTop()+a.dimension.getWindowHeight()===a.dimension.getDocumentHeight()&&(s.un(window,"scroll",v),t(w.scrollEnd))}function d(e){for(var i in w.scrollTo)if(w.scrollTo.hasOwnProperty(i)){var o=document.querySelector(i);o&&n(o)&&(t(w.scrollTo[i]),delete w.scrollTo[i])}}function p(e,t){var n=t,i=n.es,o=i&&i.ce,a=i&&i.le,s=i&&i.se,r=i&&i.tm;o&&m(o),a&&_(a),s&&g(s),r&&h(r)}function m(e){for(var t,n=0;t=e[n];n++)E[o.util.prepareSelector(e[n][1])]=e[n][0];s.on(document,"click",o.util.bind(i,this))}function _(e){for(var t,n=0;t=e[n];n++)y[t[1]]=t[0];s.on("a","click",o.util.bind(l,this))}function g(e){f=o.util.bind(c,this),v=o.util.bind(u,this);for(var t,n=0;t=e[n];n++)"comagic_scroll_start"==e[n][1]?(w.scrollStart=e[n][0],s.on(window,"scroll",f)):"comagic_scroll_end"==e[n][1]?(w.scrollEnd=e[n][0],s.on(window,"scroll",v)):w.scrollTo[o.util.prepareSelector(e[n][1])]=e[n][0];if(w.scrollTo){var i=o.util.bind(d,this);s.on(window,"scroll",i)}}function h(e){for(var n=function(e){setTimeout(function(){t(e[0])},1e3*e[1])},i=0,o=e;i<o.length;i++){var a=o[i];n(a)}}var f,v,b=r.Analytics.notifiOnEvent,w={scrollStart:null,scrollEnd:null,scrollTo:{}},E={},y={},k="_external_link_",T=0==document.location.host.indexOf("www.")?document.location.host.slice(4):document.location.host;e.onAlyTrackview=p}(i=t.Events||(t.Events={}))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){function t(){r=document.body,c=l.documentElement}function n(){return t(),r?"undefined"!=typeof pageYOffset?pageYOffset:r.scrollTop:void document.addEventListener("DOMContentLoaded",n)}function i(){return t(),r?window.innerHeight||c.clientHeight||r.clientHeight:void document.addEventListener("DOMContentLoaded",i)}function o(){return t(),r?Math.max(r.scrollHeight,c.scrollHeight,r.offsetHeight,c.offsetHeight,r.clientHeight,c.clientHeight):void document.addEventListener("DOMContentLoaded",o)}function a(e){for(var t={left:e.offsetLeft||0,top:e.offsetTop||0};e=e.offsetParent;)t.left+=e.offsetLeft,t.top+=e.offsetTop;return t}function s(){var e=navigator.userAgent.toLowerCase(),t=e.indexOf("opera")>-1,n=!t&&e.indexOf("msie")>-1,i=!document.compatMode&&!n||t?document.defaultView.innerWidth:"CSS1Compat"===document.compatMode?document.documentElement.clientWidth:document.body.clientWidth,o=!document.compatMode&&!n||t?document.defaultView.innerHeight:"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight;return{width:i,height:o}}var r=document.body,l=document,c=l.documentElement;e.getWindowScrollTop=n,e.getWindowHeight=i,e.getDocumentHeight=o,e.offset=a,e.getViewportSize=s}(n=t.dimension||(t.dimension={}))},function(e,t,n){"use strict";function i(e){var t=!1,n=!0,i=function(n){"readystatechange"==n.type&&"complete"!=d.readyState||(("load"==n.type?u:d)[g](h+n.type,i,!1),!t&&(t=!0)&&e.call(u,n.type||n))},o=function(){try{p.doScroll("left")}catch(e){return void setTimeout(o,50)}i("poll")};if("complete"===d.readyState||"loading"===d.readyState||"interactive"===d.readyState)e.call(u,"lazy");else{if(!m&&p.doScroll){try{n=!u.frameElement}catch(e){}n&&o()}d[_](h+"DOMContentLoaded",i,!1),d[_](h+"readystatechange",i,!1),u[_](h+"load",i,!1)}}function o(e,t,n,i){if(c.essential.isString(t))for(var a,s=d.querySelectorAll(t),r=0;a=s[r];r++)o(e,a,n,i);else t[e?_:g](h+n,i,!0)}function a(e,t,n){o(!0,e,t,n)}function s(e,t,n){for(var i,o=0;i=t[o];o++)this.on(e,i,n)}function r(e,t,n){o(!1,e,t,n)}function l(e){i(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(3),u=window,d=u.document,p=d.documentElement,m=d.addEventListener,_=m?"addEventListener":"attachEvent",g=m?"removeEventListener":"detachEvent",h=m?"":"on";t.contentLoaded=i,t.on=a,t.ons=s,t.un=r,t.ready=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),a=n(5),s=n(2),r=n(1),l=n(6),c=n(4),u=n(13),d=n(16),p=n(14),m=n(17),_=n(18);!function(e){function t(){var e=G("/e/b/",{e:"close"}),t=Q+"/e/b/"+re.sformat("?k={k}&ci={ci}&hi={hi}&e={e}&ur={ur}",e);J&&(re.log("[Aly]","Session closed on web-client side"),navigator&&navigator.sendBeacon&&navigator.sendBeacon(t))}function n(){if(re.isUriLocal())return void re.log("[Aly]","Local URI disallowed");var e=u.SiteSettings.params("analytics"),t=u.SiteSettings.info();if(!e)return void re.log("[Aly]","No params specified");ee=t.key,te=t.site_key,Q=e.server_url,Z=e.session_ttl,$=e.first_ping_interval;var n=this;c.Queue.push("waitForTrackViewAndRun",function(e){m.Ym.run(e,re.bind(B,n))}),d.UA.detect(re.bind(V,this)),w()}function i(){f(),v(),ce.setTimeout(function(){h()},Z),c.Queue.registerAndProcess(e.__commands,e,!0)}function g(){r.CookieShop.set(r.CookieShop.CLIENT_SESSION_START_TIME,re.getTimestamp()),le.fireEvent("aly:startsession",e,de)}function h(){le.fireEvent("aly:stopsession",e,de),b()}function f(){J=!0}function v(){if(J){ce.clearTimeout(z);var e=6e4;ue||void 0===$||(e=$),z=setTimeout(function(){ue||(ue=!0),C()},e)}}function b(){ce.clearTimeout(z),J=!1}function w(){var e=W("/t/v/",{ur:document.location.href,ti:document.title.slice(0,1e3),re:document.referrer,la:navigator.language,sc:screen.width+"x"+screen.height,uc:d.UA.clientId||"",dv:a.util.getDeviceType()},q);return pe=ae,e}function E(e,t,n,i){return W("/t/e/",{ca:e,ac:t,la:n,va:i})}function y(e){return W("/t/se/",{ce:e})}function k(e,t){return W("/p/s/",{pn:e,pv:t})}function T(e,t){return W("/p/g/",{pn:e},t)}function S(e,t){return W("/p/h/",{pn:e},t)}function A(e){return W("/p/d/",{pn:e})}function O(t){return e.sendSessionParameter("ua_client_id",d.UA.clientId||t)}function I(t){return e.sendSessionParameter("ym_client_id",t)}function C(){return W("/e/p/")}function N(e){return W("/e/e/",{ei:e})}function R(e,t){return W("/sp/s/",{n:e,v:t})}function P(e){return W("/dct/pn/",{},e)}function L(e,t){return W("/vc/s/",{vn:e.name,ve:e.email,vp:e.phone},t)}function M(){return W("/dct/co/")}function j(e,t){return W("/dct/gn/",{sb:e},t)}function D(e,t){var n=this,i=function(){e.call(n,o.essential.apply({session:de},t))};return ie(de)?(re.log("[Aly]","No analytics session. Wait a bit"),!1):void i()}function x(){var e=de.ci||r.CookieShop.getComagicId();return"undefined"===e&&(e=void 0),e}function U(){return de.hi}function F(){return de.ce}function H(e){if(e&&e.length)for(var t=0,n=void 0,i=void 0,o=void 0,a=e.length;t<a;t++)n=e[t],i=n.name,o=n.params,me[i].call(this,o)}function W(e,t,n){var i=this;void 0===t&&(t={}),re.log("[Aly]",re.sformat("request({0})",e),t,n);var a=G(e,t);for(var s in a)if(a.hasOwnProperty(s)){var r=a[s];o.essential.isEmpty(r)&&delete a[s]}return v(),p.ajax({url:Q+e,crossDomain:!0,method:"GET",data:a,withCredentials:!0,contentType:"application/json",complete:function(o){var a=JSON.parse(o.response);return a&&a.success?(X.apply(i,a.result),void(n&&n.apply(i,a.result))):(re.log("[Aly]","Got unsuccessful response on "+e+": ",a),void le.fireEvent("aly:requesterror",i,e,t))}})}function G(e,t){var n={k:ee,sk:te,t:ne,ci:x(),hi:de.hi,ur:document.location.href};return"/t/v/"===e&&delete n.hi,n.t||delete n.t,o.essential.apply(n,t)}function V(e){var t=function(){O(e)};pe===ae?c.Queue.push("waitForTrackViewAndRun",t):pe===se&&t()}function B(e){I(e)}function X(e,t,n){return re.log("[Aly]","onRequestComplete(",e,t,n,")"),ne=t,H(n),!0}function K(e){return e.hasOwnProperty("disconnect")}function q(n,a){if(de=o.essential.apply({},n),K(n))throw new Error(_.default("KEY_EXCEPTION"));Y=+new Date-1e3*a,de.cd&&s.cookie.setDomain(de.cd),de.ce===!1?r.CookieShop.set(r.CookieShop.ALY_OFFLINE,"2"):r.CookieShop.del(r.CookieShop.ALY_OFFLINE),de.tc===!0&&ce.addEventListener("beforeunload",t),de.ci&&(r.CookieShop.get(r.CookieShop.COMAGIC_ID)!=de.ci&&g(),r.CookieShop.setComagicId(de.ci)),le.fireEvent("aly:trackview",e,de,Y),pe=se,i()}var Y,Q,Z,J,z,$,ee,te,ne,ie=o.essential.isEmpty,oe=0,ae=1,se=2,re=a.util,le=l.EventBus,ce=window,ue=!1,de={},pe=oe;e.__commands=["waitForTrackViewAndRun","trackEvent","trackSysEvent","setProperty","getProperty","hasProperty","deleteProperty","extendDtPhoneReservationTime","addVisitorInfo","acquirePhone"],e.init=n,e.goOnSession=i,e.startSession=g,e.stopSession=h,e.enablePing=f,e.processPing=v,e.disablePing=b,e.trackView=w,e.trackEvent=E,e.trackSysEvent=y,e.setProperty=k,e.getProperty=T,e.hasProperty=S,e.deleteProperty=A,e.setUaClientId=O,e.setYmClientId=I,e.ping=C,e.notifiOnEvent=N,e.sendSessionParameter=R,e.extendDtPhoneReservationTime=P,e.addVisitorInfo=L,e.ackDtPhoneReservation=M,e.acquirePhone=j,e.waitForTrackViewAndRun=D,e.getComagicId=x,e.getHitId=U,e.isComagicEnabled=F,e.performCommands=H,e.request=W,e.composeParams=G,e.onUaDetected=V,e.onYmInit=B,e.onRequestComplete=X,e.isBadKey=K,e.onTrackView=q;var me;!function(t){function n(t){le.fireEvent("aly:hide_dt_phones",e,t)}function i(t){le.fireEvent("aly:enable_phone_replacement",e,t)}function o(t){le.fireEvent("aly:disable_phone_replacement",e,t)}t.hide_dt_phones=n,t.enable_phone_replacement=i,t.disable_phone_replacement=o}(me||(me={}))}(i=t.Analytics||(t.Analytics={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),a=n(5),s=n(14),r=n(1),l=n(6),c=n(15),u=n(4);!function(e){function t(){return Boolean(e._siteKey||e._key)}function n(){for(var t;t=e._readyCallbacks.shift();)t()}function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,t){return"undefined"!=typeof i[t]?i[t]:e})}function d(e,t){var n=a.util.sessionStorage();if(!n)return null;var i=JSON.parse(n.getItem(e));return 1==arguments.length?i:i&&i[t]}function p(){var e,t,n=document.getElementsByTagName("script"),i={}.WIDGET_APP_SCRIPT_NAME||"novofon.js";i&&!i.endsWith("WIDGET_APP_SCRIPT_NAME")&&(H=[i]);for(var o,s=0;o=n[s];s++)if(e=o.getAttribute("src"),t=W.exec(e),t&&a.util.arrayIndexOf(H,t[0])!==-1)return e}function m(){var e=d("comagic-widget:settings","web_host");if(e)return e;var t=p(),n=G.exec(t);return n&&n[1]}function _(){return c.Storage.getItem("_cmg_sitesettings")}function g(e){if(!e||200!==e.status)return void console.log("SiteSettings request failed",e);if(e.responseJSON||(e.responseJSON=JSON.parse(e.responseText)),!e.responseJSON||!e.responseJSON.success)return void console.log("SiteSettings request is not successful",e);var t=e.responseJSON.data;c.Storage.setUniquePostfix(D),t.ttl&&c.Storage.setItem("_cmg_sitesettings",t,t.ttl),h(t)}function h(t){e._key=t.site.app_key,e._siteKey=t.site.site_key,e._siteSettings=t,t.widgets&&Object.getOwnPropertyNames(t.widgets).length&&l.EventBus.fireEvent("ss:waitforloadcorescripts",e,e._siteSettings,L())}function f(e,t){s.ajax({url:e,crossDomain:!0,method:"GET",data:{sk:k(),k:S(),ur:document.location.href,pl:a.util.getDeviceType().toLowerCase()},complete:t})}function v(){var t={}.WIDGET_APP_SITE_SETTINGS_HOST||"https://prod-msk-widget-settings-server-api.novofon.ru/";t&&!t.endsWith("WIDGET_APP_SITE_SETTINGS_HOST")&&(e._siteSettingsHost=t,B="");var n=i(V,e._siteSettingsHost||L(),B),o=_();if(!e._siteKey&&!e._key)throw new Error("WARNING! JavaScript code is incorrect.");o?h(o):f(n,g.bind(e))}function b(i){t()||(e._siteKey=i,n())}function w(i){t()||(e._key=i,n())}function E(i){t()||(e._siteKey=i,n())}function y(e){b(e)}function k(){return e._siteKey||""}function T(){return e._isOldCode}function S(){return e._key||""}function A(t){e._webHost=new o.essential.URL(t).replace({path:"",query:"",hash:""})}function O(t){e._siteSettingsHost=new o.essential.URL(t).replace({path:"",query:"",hash:""})}function I(t){c.Storage.getItem("_cmg_customizeId")||c.Storage.setItem("_cmg_customizeId",a.util.uuid(),0),e._viewsHost=new o.essential.URL(t).replace({path:"",query:"",hash:""})}function C(t){e._isWidgetsDisabled=t}function N(e){return!!this._siteSettings&&void e.call(this,this._siteSettings)}function R(n){t()?n():e._readyCallbacks.push(n)}function P(){return e._host}function L(){var t,n=a.util.sessionStorage();return n&&(t=n.getItem("cmg:comagicWebUrl")),t||(t=e._webHost||(e._webHost=m())),new o.essential.URL(t).toString()}function M(){return{key:T()?"":S(),site_key:T()?k():"",host:P(),web_host:L()}}function j(){return x("consultant")}function D(){return(S()||k()).substring(0,5)}function x(t){return e._siteSettings[t]||e._siteSettings.widgets&&e._siteSettings.widgets[t]}function U(){if(e._siteSettings.server_url){for(var t,n=P()||e._siteSettings.server_url,i=new o.essential.URL(n),a=[],s=i.path.split("/"),r=0,l=s.length;t=s[r],r<l;r++)"comagic"!==t&&a.push(t);return 1===a.length&&a.push(""),i.replace({path:a.join("/")})}}function F(){return e._isWidgetsDisabled}window.__cs_onReplacePhones=window.__cs_onReplacePhones||function(e){return!0};var H=["cs.min.js","comagic.min.js","comagic.debug.js","main.debug.js"],W=/[^\/]+\.js/,G=/\/\/([^\/]+)/,V="{0}{1}",B="/ss/settings/";e._webHost=null,e._siteSettingsHost=null,e._siteKey="",e._key="",e._host=null,e._readyCallbacks=[],e._viewsHost=null,e._isWidgetsDisabled=!1,e._isOldCode=!0,e.init=v,e.__commands=["setAccount","setCsAccount","setWebUrl","waitForSiteSettingsAndRun","setSiteSettingsHost","disableWidgets"],e.setAccount=b,e.setKey=w,e.setSiteKey=E,e.setCsAccount=y,e.getSiteKey=k,e.isOldCode=T,e.getKey=S,e.setWebUrl=A,e.setSiteSettingsHost=O,e.setViewsUrl=I,e.disableWidgets=C,e.waitForSiteSettingsAndRun=N,e.ready=R,e.getHost=P,e.getWebHost=L,e.info=M,e.getConsultantParams=j,e.uniquePostfix=D,e.params=x,e.getServerBaseUrl=U,e.isWidgetsDisabled=F;var X=p();X&&X.indexOf("?k=")!==-1&&(e._isOldCode=!1,w(X.split("?k=")[1])),X&&X.indexOf("?sk=")!==-1&&(e._isOldCode=!0,E(X.split("?sk=")[1])),R(function(){r.CookieShop.setup(),r.CookieShop.setUniquePostfix(D),c.Storage.setUniquePostfix(D),a.util.setDebug()}),u.Queue.registerAndProcess(e.__commands,e,!0)}(i=t.SiteSettings||(t.SiteSettings={}))},function(e,t,n){"use strict";function i(){for(var e=null,t=0;t<s.length;t++){try{e=s[t]()}catch(e){continue}break}return e}function o(e,t){a.essential.isObject(e)&&(t=e,e=t.url),e=new a.essential.URL(e).toString(),t=t||{};var n=i(),o=t.data,s=t.complete,r=t.error;if(n){var l=t.method||(o?"POST":"GET");"GET"===l&&o&&(e=new a.essential.URL(e).replace({query:o}),o=void 0),n.open(l,e,!0),t&&void 0!==t.withCredentials&&(t.withCredentials?n.withCredentials=!0:n.setRequestHeader("X-No-Credentials",!0)),"POST"===l&&o&&(t.headers||n.setRequestHeader("Content-type",t.contentType||"application/x-www-form-urlencoded; charset=UTF-8")),n.onreadystatechange=function(){if(4==n.readyState)return 200!=n.status&&304!=n.status?void(r&&r(n)):void(s&&t.complete(n))},4!=n.readyState&&n.send(o)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];t.ajax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(5);!function(e){function t(e){r=e()}function n(e){return e+r}function i(e){var t=JSON.parse(o.util.localStorage().getItem(n(e)));return t&&"__value__"in t?t.__expires__&&t.__expires__<o.util.dnow()?(s(e),null):t.__value__:t}function a(e,t,i){t=void 0===t?null:t,o.util.localStorage().setItem(n(e),JSON.stringify({__value__:t,__expires__:i&&i+o.util.dnow()}))}function s(e){o.util.localStorage().removeItem(n(e))}var r;e.setUniquePostfix=t,e.makeKey=n,e.getItem=i,e.setItem=a,e.removeItem=s}(i=t.Storage||(t.Storage={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(5);!function(e){function t(e){if(a.log("[UA]",".detect(",e,")"),window.gaGlobal&&window.gaGlobal.vid)this.clientId=window.gaGlobal.vid;else{e&&(this.callback=e);try{window[window.GoogleAnalyticsObject](a.bind(this.onReady,this))}catch(e){this.haveToTryAgain()?(a.log("[UA]","Unable to detect UA Client ID. Next try in",r,"ms"),window.setTimeout(a.bind(this.detect,this),r)):a.log("[UA]","Unable to detect UA Client ID. Drop it (")}}}function n(e){try{if(a.log("[UA]",".onReady()"),this.clientId=window.gaGlobal&&window.gaGlobal.vid||e&&e.get("clientId")||window[window.GoogleAnalyticsObject].getAll()[0].get("clientId"),!this.clientId)throw"clientId is empty";a.log("[UA]","clientId detected. Going to run the callback..."),this.callback&&this.callback(this.clientId),a.log("[UA]","callback has run")}catch(e){a.log("[UA]","Can't detect UA Client ID or callback failed",e)}}function i(){return a.getTimestamp()-s<l}var a=o.util,s=a.getTimestamp();e.clientId="";var r=100,l=25;e.detect=t,e.onReady=n,e.haveToTryAgain=i}(i=t.UA||(t.UA={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),a=n(5),s=n(4);!function(e){function t(t){if(t&&!e.counter)return l||(l=a.util.getTimestamp()),window[e.prefix+t]&&window[e.prefix+t].getClientID&&(e.counter=window[e.prefix+t]),!e.counter&&a.util.getTimestamp()-l<c?void window.setTimeout(function(){e.init(t)},u):void(e.counter&&(this.clientId=e.counter.getClientID(),this.callback&&this.callback(this.clientId),s.Queue.registerAndProcess(e.__commands,e,!0)))}function n(t,n,i,a){if(!e.counter)return!1;o.essential.isArray(n)||(n=[n]);var s=e.counter[t].apply(e.counter,n);i&&i.call(a||e,s)}function i(e){s.Queue.push("callYmApi",["params",e])}function r(t,n){var i=t.session.ym;if(i){n&&(this.callback=n);var o={visitorID:{}};o.visitorID[Comagic.getVisitorId()]={sessionID:Comagic.getSessionId()},e.init(t.session.ym),e.sendYmCustomParams(o)}}e.__commands=["callYmApi"],e.prefix="yaCounter";var l,c=25,u=100;e.init=t,e.callYmApi=n,e.sendYmCustomParams=i,e.run=r}(i=t.Ym||(t.Ym={}))},function(e,t,n){"use strict";function i(e,t){var n="ru"===(t||s.SiteSettings.params("common").lc)?o.default:a.default;return e?n[e]:n}Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),a=n(20),s=n(13);t.default=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LOCALE:"ru",PLACEHOLDERS:{name:"Введите ваше имя",phone:"Введите ваш телефон",email:"Введите ваш email",date:"День",time:"Время",captcha:"Введите капчу"},FIELD_IS_REQUIRED_ERROR_TEXT:"Необходимо заполнить",PERSONAL_INFO_TEXT:"Согласен с обработкой персональных данных",PREVIEW_CONSULTANT_OPERATOR_INFO:"Имя Фамилия",OPERATOR_TYPING_TEXT:"Оператор печатает",RATING_TEXT:"Пожалуйста, поставьте оценку оператору",RATING_FEEDBACK_TEXT:"Благодарю! Ваша оценка выставлена",VCARD_TEXT:"Укажите информацию о себе, пожалуйста.",START_CHAT_TEXT:"Начать чат",WELCOME_CHAT_TEXT:"Добро пожаловать в чат!",SEND_OFFLINE_MESSAGE_TEXT:"Отправить заявку",CALL_SITEPHONE_TEXT:"Жду звонка",DATE_CHANGE_TITLE_TEXT:"Выберите дату и врeмя для звонка",DATE_NOW_TITLE_TEXT:"Позвонить сейчас",EDITOR_FIELD_TEXT:"Написать сообщение...",CALL_NOW_BUTTON_TEXT:"Звонок сейчас",SELECT_DATETIME_BUTTON_TEXT:"Выбрать другое время",REPEAT_BUTTON_TEXT:"Попробовать ещё раз",CALL_GENERATOR_TITLE:"Ожидайте звонка",CALL_GENERATOR_MESSAGE:"Сотрудник свяжется с Вами в самое ближайшее время",EMAIL_MESSAGE:{labelText:"Сохранить историю переписки на электронную почту.",buttonText:"Отправить историю",feedbackText:"История Вашей переписки отправлена на почту."},CHANGE_GROUP_MESSAGE:{labelText:"Нажмите на кнопку, чтобы обратиться в другую группу.",buttonText:"Выбрать группу"},SITEPHONE_MESSAGE:{labelText:"Нажмите на кнопку, чтобы мы позвонили Вам.",buttonText:"Заказать звонок"},OFFLINE_MESSAGE_MESSAGE:{labelText:"Нажмите на кнопку, чтобы отправить заявку.",buttonText:"Отправить заявку"},MONTHS:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],DATE_FORMAT:"{0} {1}",KEY_EXCEPTION:"ВНИМАНИЕ! Некорректный код вставки и поэтому нормальная работа скрипта невозможна.",PHONE_REPLACER_FUNCTION_EXCEPTION:"Ошибка при выполнении пользовательской функции подмены номеров",RESPONSE_CODES:{default:{title:"Система не отвечает",message:"Повторите попытку через минуту"},"010":{title:"История сообщений отправлена на email",message:"Спасибо за обращение "},110:{title:"История сообщений отправлена на email",message:"Попробуйте позже"},910:{title:"История сообщений отправлена на email",message:"Попробуйте позже"},"020":{},"030":{title:"Заявка принята",message:"Спасибо за обращение"},121:{title:"Неверно введен код",message:"Попробовать ещё раз"},122:{title:"Система не отвечает",message:"Извините, сейчас не получается совершить звонок. Попробуйте, пожалуйста, позже."}},LEADGEN:{nonWorkingTime:{title:"Сейчас операторы не в сети",description:"Оставьте заявку и мы обязательно с Вами свяжемся!",thanksTitle:"Звонок автоматически поступит Вам в начале рабочего дня"},placeholders:{name:"Имя",email:"Email",address:"Адрес",typeMessageAndSend:"Введите сообщение и нажмите Enter",enterAddress:"Введите адрес",comment:"Комментарий",message:"Сообщение",department:"Выберите отдел"},sourceTracking:{invitation:"Запрос #{0}. Отправьте это сообщение, чтобы начать общение с оператором"},errors:{fileTooBig:"Максимальный размер файла 30 Мб"},itrForm:{send:"Отправить",skip:"Пропустить"},close:"Закрыть",cancel:"Отменить",collapse:"Свернуть",today:"Сегодня",delayedCall:{now:"Сейчас",today_at:"Сегодня в",tomorrow_at:"Завтра в",at:"в",choose_time:"Выбрать удобное время",when_to_call:"В какое время позвонить?",call_time:"Время звонка"},address:{choose_address:"Выбрать адрес"},hints:{choose_time:"Выберите удобное время для звонка",where_are_you:"Откуда забрать"},sendingRequest:"Создаем заявку",mayTakeFewSeconds:"Может занять несколько секунд"}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LOCALE:"en-EN",PLACEHOLDERS:{name:"Name",phone:"Phone number",email:"Email",date:"Date",time:"Time",captcha:"Enter captcha"},FIELD_IS_REQUIRED_ERROR_TEXT:"This field is required",PERSONAL_INFO_TEXT:"I agree to process of my credentials",PREVIEW_CONSULTANT_OPERATOR_INFO:"First and Last Name",OPERATOR_TYPING_TEXT:"Operator is typing",RATING_TEXT:"Please rate your operator ",RATING_FEEDBACK_TEXT:"Thank you for you feedback",VCARD_TEXT:"Introduce yourself please.",START_CHAT_TEXT:"Start chatting",WELCOME_CHAT_TEXT:"Welcome to chat!",SEND_OFFLINE_MESSAGE_TEXT:"Submit",CALL_SITEPHONE_TEXT:"Call me",DATE_CHANGE_TITLE_TEXT:"Choose time and date for calling",DATE_NOW_TITLE_TEXT:"Call now",EDITOR_FIELD_TEXT:"Send message...",CALL_NOW_BUTTON_TEXT:"Call now",SELECT_DATETIME_BUTTON_TEXT:"Select date and time",REPEAT_BUTTON_TEXT:"Try again",CALL_GENERATOR_TITLE:"Call back",CALL_GENERATOR_MESSAGE:"We’ll contact you shortly",EMAIL_MESSAGE:{labelText:"Send message history to your email.",buttonText:"Send",feedbackText:"Message history was sent to your email."},CHANGE_GROUP_MESSAGE:{labelText:"Click to switch groups.",buttonText:"Switch groups"},SITEPHONE_MESSAGE:{labelText:"Click for call back.",buttonText:"Call back"},OFFLINE_MESSAGE_MESSAGE:{labelText:"Click to submit your request.",buttonText:"Submit"},MONTHS:["January","February","March","April","May","June","July","August","September","October","November","December"],DATE_FORMAT:"{1} {0}",KEY_EXCEPTION:"WARNING! JavaScript code is incorrect. Standard functions of script are at holt.",PHONE_REPLACER_FUNCTION_EXCEPTION:"Error while running users number swopping request.",RESPONSE_CODES:{default:{title:"System not responding",message:"Please try again in a minute"},"010":{title:"Message history was sent to your email",message:"Thank you for your reply"},110:{title:"Message history was sent to your email",message:"Try again later"},910:{title:"Message history was sent to your email",message:"Try again later"},"020":{},"030":{title:"We've Received Your Request",message:"We've will contact you soon"},121:{title:"Captcha is incorrect",message:"Please try again"},122:{title:"System not responding",message:"Sorry, the call cannot be completed right now. Please try again later"}},LEADGEN:{nonWorkingTime:{title:"Operators are currently offline",description:"Leave a request and we will contact you!",thanksTitle:"The call will automatically come to you at the beginning of the working day"},placeholders:{name:"Name",email:"Email",address:"Address",typeMessageAndSend:"Type your message and press Enter",enterAddress:"Enter address",comment:"Comment",message:"Message",department:"Select a department"},sourceTracking:{invitation:"Request #{0}. Send this message to start communication with the operator"},errors:{fileTooBig:"The file size should not exceed 30 MB"},itrForm:{send:"Send",skip:"Skip"},close:"Close",cancel:"Cancel",collapse:"Minimize",today:"Today",delayedCall:{now:"Call now",today_at:"Today at",tomorrow_at:"Tomorrow at",at:"at",choose_time:"Choose a convenient time",when_to_call:"What time to call?",call_time:"The time of the call"},address:{choose_address:"Choose an address"},hints:{choose_time:"Choose a convenient time",where_are_you:"Type your address"},sendingRequest:"Creating the request",mayTakeFewSeconds:"It may take a few seconds"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(5),a=n(11),s=n(15),r=n(1),l=n(4),c=n(6),u=n(22),d=n(23),p=n(25),m=n(29),_=o.util,g=s.Storage,h=r.CookieShop,f=d.DynamicalTracking,v=p.Replacer;!function(e){function t(e){return g.getItem(e)!==!1}function n(e,t){g.setItem(t,!!e)}function i(e,t){g.setItem(t,e)}function o(e){g.removeItem(e)}function s(e,t){if("2"==h.get(h.ALY_OFFLINE))return _.log("[StaticTracking]","Offline. Stop working");var n=e.indexOf("email")!==-1,i=e.indexOf("phone")!==-1,o=(f.parse(g.getItem(h.DT_PHONES))||{}).phones,a=E(g.getItem(h.TRACKING_PHONES),o),s=g.getItem(h.TRACKING_EMAILS),r=this.getEnabled(h.PHONE_REPLACEMENT),l=this.getEnabled(h.EMAIL_REPLACEMENT);n&&l&&s&&v.embed(s,"static","email",void 0,t),i&&r&&a&&v.embed(a,"static","phone",void 0,t),n&&l&&(f.loadLocalStorageDtKey("email"),f.showTrackingItems("email",t)),i&&r&&(f.loadLocalStorageDtKey("phone"),f.showTrackingItems("phone",t))}function c(t){_.log("[StaticTracking]",".setDynamicalReplacement",t),e.isDynamicalReplacementEnabled!=t&&(e.isDynamicalReplacementEnabled=!!t,e.isDynamicalReplacementEnabled?u.startObserve():u.stopObserve())}function d(e){if(e){_.log("[StaticTracking]",".init",e);var t=e.common;t&&t.hasOwnProperty("is_dynamical_replacement_enabled")&&this.setDynamicalReplacementFromSettings(t.is_dynamical_replacement_enabled),t&&t.hasOwnProperty("dt_model")&&(R=["usual_v2","usual_v3"].indexOf(t.dt_model)!==-1)}}function b(t){_.log("[StaticTracking]",".setDynamicalReplacementFromSettings",t),!e.isDynamicalReplacementEnabled&&t&&m.API.push(["setDynamicalReplacement",[t]])}function w(t,s){_.log("[StaticTracking]",".onAlyTrackview",t,s),!R&&"dd"in s&&f.processAckDtPhoneReservation(s.dd),a.ready(function(){if("ps"in s){var t=s.ps;v.trackElementsBySelectors(t),C=t}if("re"in s&&n(s.re,h.EMAIL_REPLACEMENT),"pr"in s&&n(s.pr,h.PHONE_REPLACEMENT),v.embedDefault(!0),"et"in s?(i(s.et,h.TRACKING_EMAILS),s.re&&v.embed(s.et,"static","email")):o(h.TRACKING_EMAILS),"pt"in s){var a=v.formatPhones(s.pt);i(a,h.TRACKING_PHONES),"dp"in s&&(a=E(a,s.dp)),s.pr&&v.embed(a,"static","phone")}else o(h.TRACKING_PHONES);("de"in s||"dp"in s)&&(f.setup(s.dp,s.dt,s.da,R,s.de),s.de?(f.saveLocalStorageDtKey(!0),s.re&&f.showTrackingItems("email")):f.delLocalStorageDtKey("email"),s.dp?(f.saveLocalStorageDtKey("phone"),s.pr&&f.showTrackingItems("phone")):f.delLocalStorageDtKey("phone")),N&&(g.setItem(h.FORCED_PHONES_REPLACEMENT_REQUIRED,!0),g.removeItem(h.FORCED_PHONES_REPLACEMENT_REQUIRED),N=!1),l.Queue.registerAndProcess(e.__commands,e,!0)})}function E(e,t){var n=(t||[]).filter(function(e){return e.id.includes(p.TrackinRuleType.Number)}).map(function(e){return e.id});return n.length&&(e=(e||[]).filter(function(e){return!n.includes(e.id)})),e}function y(e,t){_.log("[StaticTracking]",".onAlyStartSession",e,t),R?(N=!0,window.addEventListener("storage",k)):"dd"in t&&f.clearAckDtPhoneReservationDone()}function k(t){if(t.key===g.makeKey(r.CookieShop.FORCED_PHONES_REPLACEMENT_REQUIRED)){var n=t.newValue&&JSON.parse(t.newValue).__value__;n&&(v.embedDefault(!0),e.replaceTrackingItemsFromStorage(["phone","email"]))}}function T(e,n){t(h.PHONE_REPLACEMENT)&&f.hideTrackingItems("phone"),t(h.EMAIL_REPLACEMENT)&&f.hideTrackingItems("email")}function S(e,t){this.setEnabled(!0,h.PHONE_REPLACEMENT),this.replaceTrackingItemsFromStorage(["phone"])}function A(e,t){this.setEnabled(!1,h.PHONE_REPLACEMENT),v.embedDefault()}function O(e,t){f.hideTrackingItems("phone",t.numb)}function I(e){for(var t=[],n=["SCRIPT","HEAD"],i=0,o=e;i<o.length;i++){var a=o[i],s=void 0;s=["characterData","attributes"].indexOf(a.type)!==-1&&a.target.parentNode?[a.target.parentNode]:a.addedNodes||[],[].forEach.call(s,function(e){n.indexOf(e.nodeName)===-1&&(e.parentElement?"HEAD"!==e.parentElement.nodeName&&t.push(e[0]?e[0]:e):t.push(e[0]?e[0]:e))})}t.length&&(this.replaceTrackingItemsFromStorage(["phone","email"],t),C&&v.trackElementsBySelectors(C,t))}e.isDynamicalReplacementEnabled=!1,e.__commands=["setDynamicalReplacement"];var C,N=void 0,R=void 0;e.getEnabled=t,e.setEnabled=n,e.storeTrackingItems=i,e.removeTrackingItems=o,e.replaceTrackingItemsFromStorage=s,e.setDynamicalReplacement=c,e.init=d,e.setDynamicalReplacementFromSettings=b,e.onAlyTrackview=w,e.onAlyStartSession=y,e.onAlyStopSession=T,e.onAlyEnablePhoneReplacement=S,e.onAlyDisablePhoneReplacement=A,e.onAlyHideDtPhone=O,e.onMutationObserverChange=I}(i=t.StaticTracking||(t.StaticTracking={})),
c.EventBus.on({"aly:startsession":i.onAlyStartSession,"aly:stopsession":i.onAlyStopSession,"aly:enable_phone_replacement":i.onAlyEnablePhoneReplacement,"aly:disable_phone_replacement":i.onAlyDisablePhoneReplacement,"aly:hide_dt_phones":i.onAlyHideDtPhone,"mutationobserver:change":i.onMutationObserverChange,scope:i})},function(e,t,n){"use strict";function i(){l=new MutationObserver(r),l.observe(document.documentElement,s)}function o(){l&&l.disconnect()}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s={childList:!0,subtree:!0,characterData:!0,attributeFilter:["href"]},r=function(e){l.disconnect(),a.EventBus.fireEvent("mutationobserver:change",e),l.observe(document.documentElement,s)},l=null;t.startObserve=i,t.stopObserve=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),a=n(5),s=n(4),r=n(1),l=n(24),c=n(25),u=n(15),d=n(12);!function(e){function t(e,t,n,i,o){a.util.log("[DynamicalTracking]",".setup(",e,t,n,i,")"),!i&&this.cleanupProlongationMonitoring(),this.emails=k(o)||null,this.phones=k(e)||null,this.ttl=t||null,this.reserveTime=a.util.getTimestamp(),this.dtActivityInterval=n||null,this.expire=(new Date).getTime()+C._expires[C.DT_PHONES],this.expireEmt=(new Date).getTime()+C._expires[C.DT_EMAILS],this.isNewAccountSite=i,!i&&N.startWatch()}function n(e){u.Storage.setItem(P[e],this.stringify())}function i(e){var t=P[e],n=this.parse(u.Storage.getItem(t));(new Date).getTime()<=("email"===e?n.expireEmt:n.expire)?o.essential.apply(this,this.parse(u.Storage.getItem(t))):this.delLocalStorageDtKey(e)}function p(e){u.Storage.removeItem(P[e])}function m(){var e=this;a.util.log("[DynamicalTracking]",".prolongNumber"),I.push("extendDtPhoneReservationTime",function(t){e.onProlongNumber(t)})}function _(e){a.util.log("[DynamicalTracking]",".onProlongNumber(",e,")"),this.ttl=e,this.reserveTime=a.util.getTimestamp(),e||(this.phones=[]),this.saveLocalStorageDtKey(),e&&this.enableProlongationMonitoring()}function g(e){if(a.util.log("[DynamicalTracking]",".processAckDtPhoneReservation ",e),!u.Storage.getItem(r.CookieShop.ACK_DT_PHONE_RESERVATION_DONE)){var t=a.util.getTimestamp()-r.CookieShop.get(r.CookieShop.CLIENT_SESSION_START_TIME),n=e-t;setTimeout(function(){d.Analytics.ackDtPhoneReservation(),u.Storage.setItem(r.CookieShop.ACK_DT_PHONE_RESERVATION_DONE,!0)},n>0?1e3*n:1)}}function h(){a.util.log("[DynamicalTracking]",".clearAckDtPhoneReservationDone"),u.Storage.setItem(r.CookieShop.ACK_DT_PHONE_RESERVATION_DONE,!1)}function f(e){var t=this;a.util.log("[DynamicalTracking]",".waitActivityForProlongNumber",e);var n=this,i=a.util.getTimestamp();j=setInterval(function(){return a.util.getTimestamp()-i>e?void t.disableProlongationMonitoring():void(i<N.lastActivityTime&&(n.disableProlongationMonitoring(),n.prolongNumber()))},100)}function v(){M&&clearTimeout(M),M=void 0,j&&clearInterval(j),j=void 0}function b(){var e=this;a.util.log("[DynamicalTracking]",".enableProlongationMonitoring");var t=this;if(t.cleanupProlongationMonitoring(),t.ttl&&t.dtActivityInterval){var n=t.reserveTime+t.ttl-t.dtActivityInterval-a.util.getTimestamp();a.util.log("[DynamicalTracking]","timeout:",n,"me.reserveTime:",t.reserveTime,"me.ttl:",t.ttl,"me.dtActivityInterval:",t.dtActivityInterval,"now:",a.util.getTimestamp()),n>0?(a.util.log("[DynamicalTracking]","Schedule to check up the visitor activity in ",n,"secs"),M=setTimeout(function(){e.waitActivityForProlongNumber(e.dtActivityInterval)},1e3*n)):t.dtActivityInterval+n>0&&t.waitActivityForProlongNumber(t.dtActivityInterval+n)}else a.util.log("[DynamicalTracking]",".enableProlongationMonitoring","FAILED. me.ttl:",t.ttl,"me.dtActivityInterval:",t.dtActivityInterval)}function w(){a.util.log("[DynamicalTracking]",".disableProlongationMonitoring"),this.cleanupProlongationMonitoring()}function E(e,t){var n=this,i="email"===e?n.emails:n.phones;a.util.log("[DynamicalTracking]",".showTrackingItems(",e,",",i,")"),i&&(!n.isNewAccountSite&&n.enableProlongationMonitoring(),R.embed(i,"dynamic",e,void 0,t))}function y(e,t){a.util.log("[DynamicalTracking]",".hideTrackingItems");var n="email"===e,i=n?this.emails:this.phones,o=n?C.TRACKING_EMAILS:C.TRACKING_PHONES;if(L&&clearInterval(L),L=void 0,!this.isNewAccountSite&&this.disableProlongationMonitoring(),t){for(var s=function(i,s){s[n?"email":"raw"]===t&&R.embed(a.util.arrayFilter(u.Storage.getItem(o),function(e){return e.id===s.id}),"static",e)},r=0,l=void 0;l=i[r];r++)s(r,l);this[n?"emails":"phones"]=a.util.arrayFilter(i,function(e){return e[n?"email":"raw"]!==t}),this.saveLocalStorageDtKey(e)}else this.delLocalStorageDtKey(e),R.embed(u.Storage.getItem(C.TRACKING_PHONES),"static",e)}function k(e){if(!e)return null;for(var t=0,n=void 0;n=e[t];t++)n.dt=!0;return e}function T(){var e=this;return JSON.stringify({dtai:e.dtActivityInterval,ph:e.phones,em:e.emails,ttl:e.ttl,rt:e.reserveTime,expire:e.expire,expireEmt:e.expireEmt})}function S(e){var t=JSON.parse(e)||{};return{dtActivityInterval:t.dtai,phones:t.ph,emails:t.em,ttl:t.ttl,reserveTime:t.rt,expire:t.expire,expireEmt:t.expireEmt}}function A(e){this.showTrackingItems("phone",e)}function O(e){this.hideTrackingItems("phone",e)}var I=s.Queue,C=r.CookieShop,N=l.ActivityMonitor,R=c.Replacer,P={phone:C.DT_PHONES,email:C.DT_EMAILS},L=void 0,M=void 0,j=void 0;e.setup=t,e.saveLocalStorageDtKey=n,e.loadLocalStorageDtKey=i,e.delLocalStorageDtKey=p,e.prolongNumber=m,e.onProlongNumber=_,e.processAckDtPhoneReservation=g,e.clearAckDtPhoneReservationDone=h,e.waitActivityForProlongNumber=f,e.cleanupProlongationMonitoring=v,e.enableProlongationMonitoring=b,e.disableProlongationMonitoring=w,e.showTrackingItems=E,e.hideTrackingItems=y,e.addDtFlag=k,e.stringify=T,e.parse=S,e.showPhones=A,e.hidePhones=O}(i=t.DynamicalTracking||(t.DynamicalTracking={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(5),a=n(11);!function(e){function t(){e.lastActivityTime=o.util.getTimestamp()}function n(){var n=function(){a.ons(document.body,e.events.split(" "),o.util.bind(t,this))};return document.body?n():window.addEventListener("load",n.bind(this)),e}e.events="mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove",e.onActivity=t,e.startWatch=n}(i=t.ActivityMonitor||(t.ActivityMonitor={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),a=n(26),s=n(5),r=n(18),l=n(28);!function(e){e.Selector="selector=",e.ID="#",e.Class=".",e.Name="[name=",e.Number="number=",e.Email="email="}(i=t.TrackinRuleType||(t.TrackinRuleType={}));var c;!function(e){function t(){var t=[];for(var n in e.defaultPhonesObj)e.defaultPhonesObj.hasOwnProperty(n)&&t.push(e.defaultPhonesObj[n]);return t}function n(t){t.id in e.defaultPhonesObj||(e.defaultPhonesObj[t.id]=t)}function c(t,n,i){if("default"!==i){var o;"static"===i?(o=e.staticReplacedNumbers[t]||[],!o.includes(n)&&o.push(n),e.staticReplacedNumbers[t]=o):(o=e.dynamicReplacedNumbers[t]||[],!o.includes(n)&&o.push(n),e.dynamicReplacedNumbers[t]=o),e.replacedNumbersByRuleId[n]=t}}function u(){var t=[];for(var n in e.defaultEmailsObj)e.defaultEmailsObj.hasOwnProperty(n)&&t.push(e.defaultEmailsObj[n]);return t}function d(t){t.id in e.defaultEmailsObj||(e.defaultEmailsObj[t.id]=t)}function p(e){var t,n,i=[];if(e){for(n=0;n<e.length;n++)t=e[n],!t.img&&t.raw&&(t.text=s.util.formatPhone(t)),i.push(T({},t));e=i}return e}function m(t,n,i,o,s,r){var u=document.querySelectorAll(t);!o&&this.addDefaultPhone({id:n,img:a.domhelper.attr(u,"src"),text:null,raw:null}),l.VisitorTracking.trackPhoneElements(u,n),a.domhelper.attr(u,"src",i),u.length&&(e.isPhoneReplacingDone=!0,l.VisitorTracking.trackPhoneReplacement(s,n),c(r,n,s))}function _(t,n,i,o,s,r,u){var d="email"===u,p=[],m=[],_=d?"mailto:":"tel:";[].slice.apply(document.querySelectorAll(t)).map(function(e){"A"===e.tagName&&e.href.indexOf(_)!==-1?p.push(e):m.push(e)}),p.length&&(d?(!s&&this.addDefaultEmail({id:n,email:a.domhelper.html(p)}),a.domhelper.html(p,o).attr(p,"href",_+o)):(!s&&this.addDefaultPhone({id:n,img:null,text:a.domhelper.html(p),raw:(a.domhelper.attr(p,"href")||"").split(_)[1]}),l.VisitorTracking.trackPhoneElements(p,n),a.domhelper.html(p,i).attr(p,"href",_+"+"+o),e.isPhoneReplacingDone=!0,l.VisitorTracking.trackPhoneReplacement(r,n),c(o,n,r))),m.length&&(d?(!s&&this.addDefaultEmail({id:n,email:a.domhelper.html(m)}),a.domhelper.html(m,o)):(!s&&this.addDefaultPhone({id:n,img:null,text:a.domhelper.html(m),raw:null}),l.VisitorTracking.trackPhoneElements(m,n),a.domhelper.html(m,i),e.isPhoneReplacingDone=!0,l.VisitorTracking.trackPhoneReplacement(r,n),c(o,n,r)))}function g(e,t,n,o,a){var r="email"===n,l=e.id,c=e.text,u=e.img,d=r?e.email:e.raw;try{var p=s.util.prepareSelector(0!==l.indexOf(i.Selector)?l:l.substring(9));r||null===u?(c||r&&d)&&this.replaceElementText(p,l,c,d,o,t,n):this.replacePhoneImage(p,l,u,o,t,d)}catch(e){}}function h(t,n){for(var o=0,a=t;o<a.length;o++){var s=a[o],r=s.id.replace(i.Number,""),l=s.text.replace(/\D+/g,""),c=!n||s.dt&&e._replacedNumbers[r]!==l?e._replacedNumbers[r]||r:r,u=!n||s.dt&&e._hrefReplacedNumbers[r]!==s.raw?e._hrefReplacedNumbers[r]||r:r,d="\\+?"+c.split("").join("(?:[\\s\\-\\‒\\‑\\(\\)]*)?"),p="\\+?"+u.split("").join("(?:[\\s\\-\\‒\\‑\\(\\)]*)?");s._regExp=new RegExp(d,"g"),s._hrefRegExp=new RegExp(p,"g"),e._replacedNumbers[r]=l,e._hrefReplacedNumbers[r]=s.raw}return t}function f(t,n){for(var o=0,a=t;o<a.length;o++){var s=a[o],r=s.id.replace(i.Email,""),l=!n||s.dt&&e._replacedEmails[r]!==s.email?e._replacedEmails[r]||r:r,c=!n||s.dt&&e._hrefReplacedEmails[r]!==s.email?e._hrefReplacedEmails[r]||r:r;s._regExp=new RegExp(l,"g"),s._hrefRegExp=new RegExp(c,"g"),e._replacedEmails[r]=s.email,e._hrefReplacedEmails[r]=s.email}return t}function v(t,n,i,o){if(document.body){var a="email"===i,s=a?f(t,!!o):h(t,!!o),r=function(t){for(var i,o,r,u,d=t.nodeValue,p=0,m=s;p<m.length;p++){var _=m[p];if(o||(r=_.id,u=_.raw,o=d.search(_._regExp)!==-1),i=d.replace(_._regExp,a?_.email:_.text),d!==i){if(!a){var g=i.indexOf(_.text);g>0&&"("===i[g-1]&&i.match(/[()]/g).length%2===1&&(i=i.slice(0,g-1)+i.slice(g,i.length))}break}}i&&d!==i&&(t.nodeValue=i),o&&!a&&(e.isPhoneReplacingDone=!0,l.VisitorTracking.trackPhoneReplacement(n,r),l.VisitorTracking.trackPhoneElements([t],r),c(u,r,n))},u=function(t){for(var i,o,r,u,d=!!t.href.baseVal,p=d?t.href.baseVal:t.href,m=0,_=s;m<_.length;m++){var g=_[m];if(o||(r=g.id,u=g.raw,o=p.search(g._hrefRegExp)!==-1),i=p.replace(g._hrefRegExp,a?g.email:g.text),p!==i){d?t.href.baseVal=(a?"mailto:":"tel:+")+(a?g.email:g.raw):t.href=(a?"mailto:":"tel:+")+(a?g.email:g.raw);break}}o&&!a&&(e.isPhoneReplacingDone=!0,l.VisitorTracking.trackPhoneReplacement(n,r),l.VisitorTracking.trackPhoneElements([t],r),c(u,r,n))};if(o&&o.length<100)for(var d=0;d<o.length;d++)A(o[d],r),O(o[d],u,i,!0);else A(document.body,r),O(document.body,u,i)}}function b(e,t){return[].slice.apply(e).filter(function(e){return 0===e.id.indexOf(t)})}function w(e){var t=b(e,i.Selector),n=b(e,i.ID),o=b(e,i.Class),a=b(e,i.Name);return{textNumberRules:b(e,i.Number).sort(function(e,t){return t.id.length>e.id.length?1:-1}),textEmailRules:b(e,i.Email),domRules:a.concat(o,n,t)}}function E(e,t,n,i,o){if(e){var a="phone"===n,l=w(a?this.formatPhones(e):e),c=l.textNumberRules,u=l.textEmailRules,d=l.domRules;if(a)try{if(window.__cs_onReplacePhones&&"function"==typeof window.__cs_onReplacePhones&&!window.__cs_onReplacePhones(e))return}catch(e){s.util.log("[PhoneReplacer]",r.default("PHONE_REPLACER_FUNCTION_EXCEPTION")+": "+e)}this.textNodeReplace(a?c:u,t,n,o);for(var p=0,m=d;p<m.length;p++){var _=m[p];this.elementNodeReplace(_,t,n,i,o)}}}function y(e){var t=this.getDefaultEmails(),n=this.getDefaultPhones();s.util.log("[PhoneReplacer (emails)]","embedDefault(",t,")"),s.util.log("[PhoneReplacer]","embedDefault(",n,")"),n.length&&this.embed(n,"default",!1),e&&t.length&&this.embed(t,"default",!0)}function k(e,t){if(document.body&&e&&e.length){var n=[].slice.apply(e).filter(function(e){return 0===e.indexOf(i.Number)}).sort(function(e,t){return t.length>e.length?1:-1}),o=[].slice.apply(e).filter(function(e){return 0!==e.indexOf(i.Number)}),a=[],r=function(e){var t=e.replace(i.Number,""),n="\\+?"+t.split("").join("(?:[\\s\\-\\‒\\‑\\(\\)]*)?");return new RegExp(n,"g")},c=function(e){for(var t=0,i=n;t<i.length;t++){var o=i[t];if(r(o).test(e.nodeValue)){l.VisitorTracking.trackPhoneElements([e],o),a.push(e);break}}},u=function(e){for(var t=!!e.href.baseVal,i=t?e.href.baseVal:e.href,o=0,s=n;o<s.length;o++){var c=s[o];if(r(c).test(i)){l.VisitorTracking.trackPhoneElements([e],c),a.push(e);break}}};if(t&&t.length<100)for(var d=0;d<t.length;d++)A(t[d],c),O(t[d],u,"phone",!0);else A(document.body,c),O(document.body,u,"phone");for(var p=0,m=o;p<m.length;p++){var _=m[p];try{var g=s.util.prepareSelector(0!==_.indexOf(i.Selector)?_:_.substring(9)),h=document.querySelectorAll(g);l.VisitorTracking.trackPhoneElements(h,_)}catch(e){}}}}var T=o.essential.apply;e.defaultPhonesObj={},e.defaultEmailsObj={},e.isPhoneReplacingDone=!1,e._replacedNumbers={},e._hrefReplacedNumbers={},e._replacedEmails={},e._hrefReplacedEmails={},e.staticReplacedNumbers={},e.dynamicReplacedNumbers={},e.replacedNumbersByRuleId={},e.getDefaultPhones=t,e.addDefaultPhone=n,e.addReplacedNumber=c,e.getDefaultEmails=u,e.addDefaultEmail=d,e.formatPhones=p,e.replacePhoneImage=m,e.replaceElementText=_,e.elementNodeReplace=g;var S=["SCRIPT"],A=function(e,t){if(e.childNodes&&e.childNodes.length)for(var n=0,i=void 0;i=e.childNodes[n];n++)3===i.nodeType?i.data.trim()&&t(i):1===i.nodeType&&S.indexOf(i.tagName)===-1&&A(i,t);else 3===e.nodeType&&e.data.trim()&&t(e)},O=function(e,t,n,i){var o="email"===n?"mailto:":"tel:";if(i&&3===e.nodeType){var a=e.parentNode;a&&a.href&&0===(void 0!==a.href.baseVal?a.href.baseVal:a.href).indexOf(o)&&t(a,!0)}if(1===e.nodeType){var s=[].slice.call(e.querySelectorAll("a[href]"));e.href&&0===(void 0!==e.href.baseVal?e.href.baseVal:e.href).indexOf(o)&&s.push(e);for(var r=0;r<s.length;r++)0===(void 0!==s[r].href.baseVal?s[r].href.baseVal:s[r].href).indexOf(o)&&t(s[r],!0)}};e.textNodeReplace=v,e.embed=E,e.embedDefault=y,e.trackElementsBySelectors=k}(c=t.Replacer||(t.Replacer={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(5),a=n(3),s=n(27);!function(e){function t(e,t,n){if(a.essential.isUndefined(n)){var i;return i=e.length?e[0]:e,i&&i.getAttribute(t)}for(var o,s=0;o=e[s];s++)o.setAttribute(t,n);return this}function n(e,t){e.removeAttribute(t)}function i(e,t){return void 0===t?"input"===e.tagName.toLowerCase()?e.value:e.innerHTML:void("input"===e.tagName.toLowerCase()?e.value=t:e.innerHTML=t)}function r(e,t){if(a.essential.isUndefined(t))return e[0].innerHTML;for(var n,i=0;n=e[i];i++)n.innerHTML!==t&&(n.innerHTML=t);return this}function l(e,t){var n="innerText"in(e[0]||{})?"innerText":"textContent";if(a.essential.isUndefined(t))return e[0][n];for(var i,o=0;i=e[o];o++)i[n]=t;return this}function c(e,t){for(var n,i=[],o=0;n=e[o];o++)t.indexOf(n)===-1&&i.push(n);return i}function u(e){var t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else if(e.selectionStart||"0"==e.selectionStart)t=e.selectionStart;else{var i=window;e.windowEl&&(i=e.windowEl),t=i.getSelection().getRangeAt(0).startOffset}return t}function d(e,t){if(null!=e)if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else if(e.selectionStart)e.focus(),e.setSelectionRange(t,t);else if(e.focus(),e.childNodes[0]){var i=window;e.windowEl&&(i=e.windowEl);var o=e.childNodes[0];if(o&&o.length>=t){var n=i.document.createRange(),a=i.getSelection();n.setStart(o,t),n.collapse(!0),a.removeAllRanges(),a.addRange(n)}}}function p(e,t){return e.querySelectorAll(t)}function m(e,t){void 0===t&&(t=!0);var n=e.parentNode||e.parentElement;return t===!1?n:!!n&&new s.Element(n)}function _(t,n){if("string"==typeof n)n&&!e.hasClass(t,n)&&(t.className=t.className+" "+n);else for(var i=0,o=n.length;i<o;i++)e.addClass(t,n[i]);return this}function g(e,t){return t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1}function h(e,t){return void 0===t&&(t=!0),e=e.firstChild,t===!1?e:new s.Element(e)}function f(e,t,n){switch(o.util.typeOf(t)){case"string":break;case"object":t=new s.Element(t),n?(n=new s.Element(n),e.insertBefore(t.dom,n.dom)):e.appendChild(t.dom)}}function v(t,n){void 0===n&&(n=!1);var i=e.parent(t);i&&i.dom&&i.remove(t)}function b(e,t){t=new s.Element(t),e.removeChild(t.dom)}function w(t){for(var n=new s.Element(t),i=0,o=20;i<o;i++){if("none"===n.css("display")||0===n.css("opacity"))return!1;if("body"===n.dom.tagName.toLocaleLowerCase())break;if(n=e.parent(n.dom),!n)return!1}return!0}function E(e,t,n){var i;return"number"!=typeof t?(this.dom.setSelectionRange?(t=e.selectionStart,n=e.selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),t=0-i.duplicate().moveStart("character",-1e5),n=t+i.text.length),{begin:t,end:n}):(n="number"==typeof n?n:t,void(e.setSelectionRange?e.setSelectionRange(t,n):e.createTextRange&&(i=e.createTextRange(),i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i.select())))}e.attr=t,e.removeAttr=n,e.val=i,e.html=r,e.text=l,e.not=c,e.getCaretPosition=u,e.setCaretPosition=d,e.select=p,e.parent=m,e.addClass=_,e.hasClass=g,e.first=h,e.append=f,e.destroy=v,e.remove=b,e.isVisible=w,e.caret=E}(i=t.domhelper||(t.domhelper={}))},function(e,t,n){"use strict";function i(e,t){return t.charAt(1).toUpperCase()}function o(e){return p[e]||(p[e]=e.replace(_,i))}function a(e){var t=0;return e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t}function s(e,t){return e?(e=e.dom||{},e.id||(e.id=(t||f)+ ++h),e.id):(t||f)+ ++h}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),l=n(26),c="onmousewheel"in document?"mousewheel":"DOMMouseScroll",u={},d=document.defaultView,p={},m=/alpha\(opacity=(.*)\)/gi,_=/(-[a-z])/gi,g=/height|width|margin|padding|left|top|right|bottom/,h=0,f="gen-",v=function(){function e(e){if(e.dom?this.dom=e.dom:this.dom=e,this.dom===document)u.doc?this.events=u.doc.events:(this.events={},u.doc=this);else{var t=this.dom.getAttribute("data-cache-id");t&&u[t]?this.events=u[t].events:(this.events={},t=s(),this.attr("data-cache-id",t),u[t]=this),this.cacheId=t}}return e.prototype.on=function(e,t,n,i){var o,s=this,l=e;switch(n=n||this,r.essential.isString(i)&&(o=i),e){case"mousewheel":e=c;break;case"mouseenter":e="mouseover";break;case"mouseleave":e="mouseout"}var u=function(o){var c=o.target,d=o.fromElement||o.relatedTarget,p=o.toElement||o.target;switch(l){case"mouseenter":if(!d)return;if(s.within(d,"mouseenter"))return;break;case"mouseleave":if(!p)return;if(s.within(p))return}t.apply(n,[o,c,a(o)]),r.essential.isObject(i)&&i.$once&&s.dom.removeEventListener(e,u,!1)};this.dom.addEventListener(e,u,!1),this.events[e]=this.events[e]||[],this.events[e].push({fn:t,wrapperFn:u})},e.prototype.once=function(e,t,n,i){i=i||{},n=n||this,i.$once=!0,this.on(e,t,n,i)},e.prototype.un=function(e,t){for(var n,i,o=this.events[e]||[],a=0,s=o.length;a<s;a++)if(n=o[a],n.fn===t){i=n.wrapperFn;break}i&&(o.splice(a,1),this.dom.removeEventListener(e,i,!1))},e.prototype.within=function(t,n){var i,o=!1,a=!1;return t=new e(t),i=t.attr("id"),i||(i=s(),a=!0,t.attr("id",i)),0===this.select("#"+i).length&&(o=!1),this.dom.id&&this.dom.id===t.dom.id&&(o=!0),a&&t.removeAttr("id"),o},e.prototype.select=function(e){return l.domhelper.select(this.dom,e)},e.prototype.attr=function(e,t){return l.domhelper.attr(this.dom,e,t)},e.prototype.removeAttr=function(e){l.domhelper.removeAttr(this.dom,e)},e.prototype.val=function(e){return l.domhelper.val(this.dom,e)},e.prototype.css=function(e,t){if(""!==e){if(!/:/.test(e))return r.essential.isObject(e)?this.setStyle(e):e&&t?this.setStyle(e,t):e?this.getStyle(e):void 0;for(var n=e.split(";"),i=0,o=n.length;i<o;i++){var a=n[i].split(":"),s=!1;a.length<2||(/!important/.test(a[1])&&(s=!0,a[1]=a[1].replace(" !important","")),this.setStyle(a[0],a[1],s))}}},e.prototype.setStyle=function(e,t,n){var i,a;"object"!=typeof e&&(i={},i[e]=t,e=i);for(a in e)switch(t=e[a],g.test(a)&&!isNaN(Number(t))&&(t+="px"),a){case"border-radius":r.essential.isNumber(t)&&(t+="px"),this.dom.style.BorderRadius=t,this.dom.style.borderRadius=t,this.dom.style.MozBorderRadius=t,this.dom.style.WebkitBorderRadius=t;break;case"float":this.dom.style.styleFloat=t,this.dom.style.cssFloat=t;break;default:this.dom.style[o(a)]=t,n&&this.dom.style&&this.dom.style.setProperty&&this.dom.style.setProperty(a,t,"important")}return this},e.prototype.getStyle=function(e,t){if(d&&d.getComputedStyle){var n=this.dom,i=void 0,a=void 0,s=void 0,r=void 0;return n==document?null:(e=o(e),s=(i=n.style[e])?i:(a=d.getComputedStyle(n,""))?a[e]:null,(/\+|\ /.test(s)||"auto"===s||t)&&void 0!==n.getBoundingClientRect().width?n.getBoundingClientRect()[e]:("marginRight"==e&&"0px"!=s&&(r=n.style.display,n.style.display="inline-block",s=d.getComputedStyle(n,"").marginRight,n.style.display=r),"backgroundColor"==e&&"rgba(0, 0, 0, 0)"==s&&(s="transparent"),s))}var n=this.dom,l=void 0,a=void 0;if(n==document)return null;if("opacity"==e){if(n.style.filter.match&&(l=n.style.filter.match(m))){var c=parseFloat(l[1]);if(!isNaN(c))return c?c/100:0}return 1}return e=o(e),n.style[e]||((a=n.currentStyle)?a[e]:null)},e.prototype.parent=function(e){return l.domhelper.parent(this.dom,e)},e.prototype.isVisible=function(){return l.domhelper.isVisible(this.dom)},e.prototype.addClass=function(e){return l.domhelper.addClass(this.dom,e)},e.prototype.hasClass=function(e){return l.domhelper.hasClass(this.dom,e)},e.prototype.height=function(e){return void 0!==e?(r.essential.isString(e)&&/px/.test(String(e))===!1&&(e+="px"),this.css("height",e),this):parseInt(this.css("height"))},e.prototype.wrap=function(t){t=new e(t);var n=t.parent();this.update(t.dom.outerHTML),n.append(this,t),t.destroy()},e.prototype.remove=function(e){l.domhelper.remove(this.dom,e)},e.prototype.destroy=function(e){void 0===e&&(e=!1),delete u[this.cacheId],l.domhelper.destroy(this.dom,e)},e.prototype.update=function(e){this.dom.innerHTML=e},e.prototype.first=function(e){return void 0===e&&(e=!0),l.domhelper.first(this.dom,e)},e.prototype.append=function(e,t){l.domhelper.append(this.dom,e,t)},e.prototype.caret=function(e,t){return l.domhelper.caret(this.dom,e,t)},e}();t.Element=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(10),a=n(3),s=n(13),r=n(14),l=n(5),c=n(25);!function(e){function t(e,t,a){s.SiteSettings.params("common").is_clickstream_enabled&&!l.util.storageGet("cmg:"+t.ci+"."+t.hi)&&(J=0,V=o.dimension.getDocumentHeight(),B=o.dimension.getWindowHeight(),X=t.hi,G=Boolean(t.pr),K=s.SiteSettings.params("site").id,q=e.getComagicId(),le=B/V,ce=o.dimension.getWindowScrollTop(),ue=ce+B,oe=a,ae="visible"===document.visibilityState,"ps"in t&&(ne=t.ps,ie=[]),"pt"in t&&(ee=n(t.pt)),"dp"in t&&(te=n(t.dp)),z&&clearInterval(z),z=setInterval(_,s.SiteSettings.params("clickstream").batch_interval||1e4),Y=i(),m({time:Y,name:"page_load",params:{url:document.location.href}}),ae&&m({time:Y,name:"page_visible"}),R(),setInterval(E,1e3),window.addEventListener("resize",b,!0),window.addEventListener("resize",f,!0),document.addEventListener("visibilitychange",y,!0),document.addEventListener("keyup",k,!0),document.addEventListener("click",S,!0),document.addEventListener("contextmenu",O,!0),window.addEventListener("scroll",L,!0),window.addEventListener("scroll",N,!0),window.addEventListener("resize",N,!0),window.addEventListener("scroll",W,!0),window.addEventListener("resize",W,!0),window.addEventListener("load",function(){var e=1,t=setInterval(function(){W(),++e>10&&clearInterval(t)},500)},!0),window.addEventListener("beforeunload",g),l.util.storageSet("cmg:"+t.ci+"."+X,!0,!1))}function n(e){var t,n,i=[];if(e)for(n=0;n<e.length;n++)t=e[n],(t.img||t.raw)&&i.push(t.id);return i}function i(){return+Date.now()-oe}function u(){return s.SiteSettings.params("clickstream").server_url+"/e/cs/"}function d(e){return JSON.stringify({uid:q,hid:X,sid:K,time:i(),events:$,type:e?"beacon":"xhr",version:se,uuid:l.util.uuid(),cnt:++J})}function p(){W(),T(),A(),I(),v(),w(),M(),R(),0===J&&0===ie.length&&m({name:"phone_selector_visible_info",params:{total_selector_count:ne.length,visible_selector_count:0,visible_selectors:null}})}function m(e,t){var n,o=a.essential.apply({value:null,uuid:l.util.uuid()},t?{}:{time:i()});a.essential.isString(e)?n=a.essential.apply({},{name:e},o):a.essential.isObject(e)&&(n=a.essential.apply({},e,o)),n&&$.push(n)}function _(){p(),$.length?(Z&&clearTimeout(Z),Z=null,Q&&($.some(function(e){return"viewed_height"===e.name})||(re=i(),m({time:re,name:"viewed_height",value:ae?le:0})),Q=!1)):Z||Q||(Z=setTimeout(function(){Q=!0,P(),Z=null},18e5)),Q||(r.ajax({url:u(),crossDomain:!0,method:"POST",data:d(),contentType:"application/json",complete:function(e){if(200!==e.status)return void l.util.log("[VisitorTracking]","Got unsuccessful request.status on /e/cs/: ",e.status)}}),$=[])}function g(){h()}function h(){p(),Ce&&c.Replacer.isPhoneReplacingDone&&m("phone_hidden"),ae&&"visible"===document.visibilityState&&m("page_hidden"),m("page_unload"),navigator&&navigator.sendBeacon&&navigator.sendBeacon(u(),d(!0)),$=[]}function f(e){de&&clearTimeout(de),de=setTimeout(v,500)}function v(){if(de){var e=o.dimension.getWindowHeight();e!==B&&(m({name:"resize",value:e/B}),B=e),clearTimeout(de),de=null}}function b(e){pe&&clearTimeout(pe),pe=setTimeout(w,500)}function w(){pe&&(E(),clearTimeout(pe),pe=null)}function E(){var e=o.dimension.getDocumentHeight();e!==V&&(m({name:"height_change",value:e/V}),C(e,V),V=e)}function y(){m("visible"===document.visibilityState?"page_visible":"page_hidden"),ae||"visible"!==document.visibilityState||(ae=!0,we=0,R()),W()}function k(){_e?clearTimeout(_e):me=i(),ge++,_e=setTimeout(T,1e3)}function T(){_e&&(m({start_time:me,end_time:i(),name:"key_up",value:ge},!0),me=null,ge=0,_e=null)}function S(){fe++,he=i()}function A(){fe&&(m({time:he,name:"click",value:fe}),fe=0,he=null)}function O(){be++,ve=i()}function I(){be&&(m({time:ve,name:"right_click",value:be}),be=0,ve=null)}function C(e,t){e>t&&B===o.dimension.getWindowHeight()&&(we=0,le*=t/e,re=i())}function N(){var e=o.dimension.getWindowScrollTop(),t=e+B;ce>e&&(le=(ue-e)/V,ce=e,re=i()),ue<t&&(le=(t-ce)/V,ue=t,re=i())}function R(){we<le&&(m({time:re||Y,name:"viewed_height",value:ae?le:0}),we=le)}function P(){ce=o.dimension.getWindowScrollTop(),ue=ce+B,we=le=B/V}function L(){var e,t=o.dimension.getWindowScrollTop();if(t!==Te){var n=t-Te>0?"bottom":"top";Se&&Se!==n&&(M(),e=!0),Se||(ke=e?Te:t,ye=i()),Se=n,Te=t,Ee&&clearTimeout(Ee),Ee=setTimeout(M,500)}}function M(){if(Ee){var e=(Math.abs(ke-Te)/(V-B)).toFixed(2);"Infinity"!==e&&(ke!==Te&&m({start_time:ye,end_time:i(),name:"scroll_"+Se,value:Math.abs(ke-Te)/(V-B)},!0),clearTimeout(Ee),Ee=Se=ye=ke=null)}}function j(e,t){if(s.SiteSettings.params("common").is_clickstream_enabled){t&&e.length&&!Oe[t]&&(Oe[t]=[],Ie[t]=!1);for(var n=0;n<e.length;n++){var i=e[n];if(3===i.nodeType&&(i=i.parentNode||i.parentElement||i),c.Replacer.isPhoneReplacingDone&&Ae.indexOf(i)===-1&&(Ae.push(i),i.addEventListener("mouseenter",x,!0),i.addEventListener("mouseleave",U,!0),i.addEventListener("click",F,!0),i.addEventListener("contextmenu",H,!0)),Oe[t].indexOf(i)===-1)if(t.indexOf(c.TrackinRuleType.Number)!==-1){var o=!1;for(var a in Oe)if(Oe.hasOwnProperty(a)&&a!==t&&Oe[a].indexOf(i)!==-1){o=!0;break}!o&&Oe[t].push(i)}else Oe[t].push(i)}W()}}function D(e,t,n){s.SiteSettings.params("common").is_clickstream_enabled&&m({name:e+"_phone_replaced",value:t})}function x(){m("el_mouse_enter")}function U(){m("el_mouse_leave")}function F(){m("el_click")}function H(){m("el_right_click")}function W(){try{var e="visible"===document.visibilityState,t=!1,n={};for(var i in Oe)if(Oe.hasOwnProperty(i)&&(n[i]=!1,e))for(var o=0,a=Oe[i];o<a.length;o++){var s=a[o];if(s.getBoundingClientRect){var r=s.getBoundingClientRect().top,l=r+s.clientHeight;if((0!==l||0!==r)&&(r>=0&&r<=B||l>=0&&l<=B)&&(n[i]=!0,ie.indexOf(i)===-1&&(ie.push(i),m({name:"phone_selector_visible_info",params:{total_selector_count:ne.length,visible_selector_count:ie.length,visible_selectors:ie}})),ee.indexOf(i)!==-1&&l<=B&&r>=0)){t=!0;break}}}t!==Ce&&c.Replacer.isPhoneReplacingDone&&(m("phone_"+(t?"visible":"hidden")),Ce=t)}catch(e){console.log("VisitorTracking error",e)}}var G,V,B,X,K,q,Y,Q,Z,J,z,$=[],ee=[],te=[],ne=[],ie=[],oe=0,ae=!1,se=1673362802;e.onAlyTrackview=t,e.pageUnloadHandler=h;var re,le,ce,ue,de=null,pe=null,me=null,_e=null,ge=0,he=null,fe=0,ve=null,be=0,we=0,Ee=null,ye=null,ke=null,Te=0,Se=null,Ae=[],Oe={},Ie={};e.trackPhoneElements=j,e.trackPhoneReplacement=D;var Ce=!1}(i=t.VisitorTracking||(t.VisitorTracking={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(5),a=n(4),s=n(1),r=n(23),l=n(25),c=n(12),u=n(13),d=n(15),p=n(30),m=n(6),_=n(31),g=n(32),h=n(37),f=h.LeadgenNS.WorkloadCategory,v=n(28),b=n(36);!function(e){function t(t,n,i){e.push(["sendMessage",[t,n,i]])}function n(e){c.Analytics.trackSysEvent(o.util.isObject(e)?e.component_event:e)}function i(e){a.Queue.push(e)}function h(e){this.push(["setAccount",[e]])}function w(e){this.push(["setDynamicalReplacement",[e]])}function E(e){this.push(["setWebUrl",[e]])}function y(e,t){i(["startCall",[e,t]])}function k(){try{var e=Comagic.UI.getWidget("consultant_chat"),t=Comagic.UI.getWidget("consultant_offline_message"),n=e&&e.isChatAvailable()?e:t;Comagic.UI.show(n.name)}catch(e){O({category:f.CHAT})}}function T(){try{Comagic.UI.show("sitephone")}catch(e){O({category:f.CALL})}}function S(){T()}function A(e){O({id:e})}function O(e){g.Leadgen.forceWidgetShow(e)}function I(){t("start_visitor_chat")}function C(e,t){this.sendChatByMail(e,t)}function N(e,n){t("send_chat_by_mail",e,n)}function R(e){this.setOperatorRating(e)}function P(e){t("set_operator_rating",{rating:e,comment:null})}function L(){this.notifyWriting()}function M(){t("write_notify",!1)}function j(){this.closeChat()}function D(){t("close_chat")}function x(e,t,n,i){this.push(["trackEvent",[e,t,n,i]])}function U(e,t){this.push(["setProperty",[e,t]])}function F(e,t){this.push(["getProperty",[e,t]])}function H(e,t){this.push(["hasProperty",[e,t]])}function W(e){this.push(["deleteProperty",[e]])}function G(e){this.push(["getUploadUrl",[e]])}function V(e){switch(e){case"static":return l.Replacer.staticReplacedNumbers;case"dynamic":return l.Replacer.dynamicReplacedNumbers;default:return l.Replacer.replacedNumbersByRuleId}}function B(){return r.DynamicalTracking.phones}function X(e,t){this.push(["acquirePhone",[e,t]])}function K(){return ge(s.CookieShop.TRACKING_PHONES)}function q(e){this.push(["setOperatorId",[e]])}function Y(){return s.CookieShop.getSessionId()}function Q(){return s.CookieShop.getVisitorId()}function Z(e){t("track_lead_show",{action_type:e.action_type,action_log_id:e.action_log_id})}function J(e,n,i){t("submit_lead_form",{log_id:e,data:n},i)}function z(e){t("cancel_lead_form",{log_id:e})}function $(e){t("on_timer_up",{scenario_id:e})}function ee(){return{site_key:me(),key:_e(),uri:document.location.href,visitor_id:Number(this.getVisitorId()),hit_id:Number(ue()),session_id:Number(this.getSessionId()),consultant_server_url:de(),comagic_id:pe()}}function te(e){o.util.setDebug(e)}function ne(e,t){c.Analytics.addVisitorInfo(e,t)}function ie(e,t){(e.name||e.email||e.phone||e.message)&&b.Http.request("offline_request",{name:e.name,email:e.email,phone:e.phone,text:e.message,is_sale:e.is_sale,sale_cost:e.sale_cost,group_id:e.group_id,form_name:e.form_name,user_fields:e.user_fields,is_custom:!0},t)}function oe(){try{u.SiteSettings.params("common").is_clickstream_enabled&&v.VisitorTracking.pageUnloadHandler(),c.Analytics.trackView()}catch(e){}}function ae(e,t){m.EventBus.on("api:"+e,t)}function se(e,t){void 0===t&&(t={}),p.ComagicWebApi.request("get_captcha",t,e);
}function re(e){}function le(){return o.util.getDeviceType()}function ce(e){return o.util.tformat(e)}var ue=c.Analytics.getHitId,de=u.SiteSettings.getServerBaseUrl,pe=c.Analytics.getComagicId,me=u.SiteSettings.getSiteKey,_e=u.SiteSettings.getKey,ge=d.Storage.getItem;e.sendMessage=t,e.trackSysEvent=n,e.push=i,e.setAccount=h,e.setDynamicalReplacement=w,e.setWebUrl=E,e.sitePhoneCall=y,e.openChatWindow=k,e.openSitePhonePanel=T,e.openVASitePhonePanel=S,e.openSiteRequestPanel=function(){try{Comagic.UI.show("consultant_offline_message")}catch(e){O({category:f.CALL})}},e.openWidget=A,e.startVisitorChat=I,e.onSendChatByMail=C,e.sendChatByMail=N,e.onOperatorRate=R,e.setOperatorRating=P,e.onChatTyping=L,e.notifyWriting=M,e.onChatClose=j,e.closeChat=D,e.trackEvent=x,e.setProperty=U,e.getProperty=F,e.hasProperty=H,e.deleteProperty=W,e.getUploadUrl=G,e.getReplacedPhones=V,e.getDTPhones=B,e.acquirePhone=X,e.getPhones=K,e.setOperatorId=q,e.getSessionId=Y,e.getVisitorId=Q,e.trackLeadShow=Z,e.onLeadFormSubmit=J,e.onLeadFormCancel=z,e.onLeadTimerUp=$,e.getCredentials=ee,e.setDebug=te,e.addVisitorInfo=ne,e.addOfflineRequest=ie,e.reinitTrackView=oe,e.on=ae,e.getCaptcha=se,e.onOperatorStatusChange=re,e.getDeviceType=le,e.tformat=ce,e.visitorCard=new _.DictStorage("vvc"),e.storage=new _.DictStorage("storage"),e.omni={forwardTelegram:function(e){void 0===e&&(e=void 0),g.Leadgen.forwardOmniChannel(["telegram","telegram_private"],e)},forwardWhatsApp:function(e){void 0===e&&(e=void 0),g.Leadgen.forwardOmniChannel("whatsapp",e)},forwardVkontakteGroup:function(e){void 0===e&&(e=void 0),g.Leadgen.forwardOmniChannel("vkontakte_groups",e)},forwardViber:function(e){void 0===e&&(e=void 0),g.Leadgen.forwardOmniChannel("viber",e)},forwardFacebook:function(e){void 0===e&&(e=void 0),g.Leadgen.forwardOmniChannel("facebook",e)},forwardInstagram:function(e){void 0===e&&(e=void 0),g.Leadgen.forwardOmniChannel("instagram",e)},setVisitorContext:function(e){i(["setOmniVisitorContext",[e]])}}}(i=t.API||(t.API={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(14);!function(e){function t(e){i=e}function n(e,t,n){o.ajax({url:i,crossDomain:!0,data:JSON.stringify({method:e,params:t||{}}),type:"POST",dataType:"json",headers:{"Content-Type":"application/json"},complete:function(e){var t;"application/json"===e.getResponseHeader("Content-Type")?(t=JSON.parse(e.response),n(t.result)):(t=e.response,n(t))}})}var i;e.init=t,e.request=n}(i=t.ComagicWebApi||(t.ComagicWebApi={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),o=function(){function e(e,t){void 0===t&&(t=0),this.key="_cmg_"+e,this.ttl=t,i.Storage.getItem(this.key)||i.Storage.setItem(this.key,{},this.ttl)}return e.prototype.getItem=function(e){var t=i.Storage.getItem(this.key);return t[e]},e.prototype.setItem=function(e,t){var n=i.Storage.getItem(this.key);n[e]=t,i.Storage.setItem(this.key,n,this.ttl)},e.prototype.getDict=function(){var e=i.Storage.getItem(this.key);return e},e.prototype.reset=function(){i.Storage.setItem(this.key,{},this.ttl)},e}();t.DictStorage=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o,a,s=n(4),r=n(14),l=n(13),c=n(5);!function(e){function t(t){i=t.leadgen_server_url,n.e(1,function(){var o=n(33).LeadgenController;s.Queue.registerAndProcess(e.__commands,e,!0),m(t.common),s.Queue.push("waitForLeadGenSettingsAndBody",function(e){"workloads"in e&&(e.cm_common=t.common,e.leadgen_server_url=i,o.init(e)),_=o.goToExternalService,g=o.setLastImpressionId})})}function a(e,t){if(void 0===t&&(t=void 0),o&&o.common&&o.common.omni&&o.common.omni.channels&&Array.isArray(o.common.omni.channels)){var n=[];if("string"==typeof e)n.push(e);else{if(!Array.isArray(e))return;n=e}for(var i=0,a=o.common.omni.channels;i<a.length;i++){var s=a[i],r=!1;if(n.indexOf(s.channel)!==-1&&s.link&&(t?s.link.indexOf(t)>-1&&(r=!0):r=!0),r){_(s.channel,s.link);break}}}}function u(e){return!(!o||!document.body)&&void e.call(this,o)}function d(e){s.Queue.push("openWidgetViaApi",e)}function p(e,t,n,o){return r.ajax({url:i+"/v1/wi?sk="+l.SiteSettings.getSiteKey(),method:"POST",contentType:"application/json",data:JSON.stringify({p:window.location.href,vi:e,si:t,wi:n,sil:o}),error:function(e){c.util.log("[Leadgen] POST "+i+"/v1/wi "+e.status+" "+e.statusText)},complete:function(e){c.util.log("[Leadgen] Widget impression sent");var t=JSON.parse(e.responseText);c.util.log("[Leadgen] Impression id = "+t.result.id),t.success&&t.result.id>0&&g(t.result.id)}}),!0}function m(e){r.ajax({url:i+"/v1/ls",method:"GET",data:{sk:l.SiteSettings.getSiteKey(),dv:c.util.getDeviceType(),c_iso:!!e.is_widget_prefix_country},error:function(e){c.util.log("[Leadgen] GET "+i+"/v1/ls "+e.status+" "+e.statusText)},complete:function(e){o=JSON.parse(e.responseText).data}})}var _,g;e.__commands=["waitForLeadGenSettingsAndBody","trackLeadgenWidgetImpression"],e.init=t,e.forwardOmniChannel=a,e.waitForLeadGenSettingsAndBody=u,e.forceWidgetShow=d,e.trackLeadgenWidgetImpression=p}(a=t.Leadgen||(t.Leadgen={}))},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),a=n(29),s=n(14),r=n(12),l=n(13);!function(e){function t(e,t,n){s.ajax(e,{method:"POST",data:JSON.stringify(t),contentType:"application/json",complete:n})}function n(e,t){return{name:h[e],params:t,key:p()?"":u(),site_key:p()?d():"",uri:document.location.href,comagic_id:m(),hit_id:_()}}function i(e,t){return e.replace("/vi","/")+g[t]}function c(e,s,r){var l=a.API.getCredentials(),c=o.essential.filterObjectByFn(s,o.essential.isUndefined),u=i(l.consultant_server_url,e);c=n(e,c),t(u,c,r)}var u=l.SiteSettings.getKey,d=l.SiteSettings.getSiteKey,p=l.SiteSettings.isOldCode,m=r.Analytics.getComagicId,_=r.Analytics.getHitId,g={offline_request:"api/v1/",offline_request_v2:"api/v2/",sitephone_call:"api/v1/",sitephone_init:"api/v1/"},h={offline_request:"send_offline_request",offline_request_v2:"send_offline_request",sitephone_call:"sitephone_call",sitephone_init:"sitephone_init"};e.request=c}(i=t.Http||(t.Http={}))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){var t;!function(e){e.BUTTON="buttons",e.CALL="requests_collection_forms",e.TAXI="taxi",e.CHAT="chats"}(t=e.WorkloadCategory||(e.WorkloadCategory={}));var n;!function(e){e.FOLLOW_LINK="link",e.OPEN_WIDGET="widget",e.MAKE_DIRECT_CALL="direct_call",e.OPEN_MESSENGER="omni_channel"}(n=e.CustomButtonAction||(e.CustomButtonAction={}));var i;!function(e){e.MOBILE="mobile",e.TABLET="tablet",e.DESKTOP="desktop"}(i=e.DevicesEnum||(e.DevicesEnum={}));var o;!function(e){e.TIME_IN_SEGMENT="time_in_segment",e.BUTTON_CLICK="button_click",e.LEAVING_SITE="leaving_the_site",e.JS_API="js_api",e.CLICK_ON_ELEMENT="click_on_element"}(o=e.LogicEventsEnum||(e.LogicEventsEnum={}));var a;!function(e){e[e.ONCE_PER_SESSION=1]="ONCE_PER_SESSION",e[e.IN_FEW_DAYS=2]="IN_FEW_DAYS"}(a=e.RerunModeEnum||(e.RerunModeEnum={}));var s;!function(e){e.TIMER_TICK="timer_tick",e.BUTTON_CLICK="button_click",e.LEAVING_SITE="leaving_the_site",e.JS_API="js_api",e.CLICK_ON_ELEMENT="click_on_element"}(s=e.ScenarioSignificantEventsEnum||(e.ScenarioSignificantEventsEnum={}));var r;!function(e){e.PHONE="phone",e.EMAIL="email",e.NAME="name",e.TEXT="text",e.SUBMIT_BUTTON="submit_button",e.PERSONAL_DATA_CHECKBOX="personal_data_agreement_checkbox",e.MAILING_CHECKBOX="mailing_agreement_checkbox",e.DELAYED_CALL_TIME="delayed_call_time"}(r=e.FieldCode||(e.FieldCode={}));var l;!function(e){e.STANDARD="standard",e.TAXI="taxi",e.FORM_ON_SITE="form_on_site"}(l=e.OfflineRequestType||(e.OfflineRequestType={}));var c;!function(e){e.OPEN_WIDGET_BUTTON_CLICKED="open_widget_button_clicked",e.PHONE_INPUT_CLICKED="phone_input_clicked",e.CALLBACK_BUTTON_CLICKED="callback_button_clicked",e.WIDGET_AUTO_SHOW="widget_auto_show",e.WIDGET_CLOSE_BUTTON_CLICKED="widget_close_button_clicked"}(c=e.WidgetEvent||(e.WidgetEvent={}));var u;!function(e){e.CALLBACK_OPEN="aly_goal_callback_open",e.CALLBACK_FILL="aly_goal_callback_fill",e.CALLBACK_CALL="aly_goal_callback_call",e.CALLBACK_SHOW="aly_goal_callback_show",e.CALLBACK_CLOSE="aly_goal_callback_close"}(u=e.AlyGoal||(e.AlyGoal={}))}(n=t.LeadgenNS||(t.LeadgenNS={}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){function t(t,n){e.registeredWidgetsCollection[t]=n}function n(t){return e.registeredWidgetsCollection[t]}function i(t){if(e.createdWidgets[t])for(var n=0;n<e.createdWidgets[t].length;n++)e.createdWidgets[t][n].destroy();e.createdWidgets[t]=[]}function o(){for(var t in e.createdWidgets)i(t)}e.registeredWidgetsCollection={},e.createdWidgets={},e.userInitialWidgetViewsOptions={},e.widgetsOpts={},e.register=t,e.getWidget=n,e.destroyWidgetsByGroup=i,e.destroyWidgets=o}(n=t.WidgetManager||(t.WidgetManager={}))},,function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(4),s=n(6),r=n(112),l=n(109),c=n(5),u=c.util.createLinkTag,d=n(114),p=c.util.log,m=n(117),_=n(13);!function(e){function t(e,t){_=!!e.widgets.leadgen,m.C.PHONE_MASK_FORMAT=m.C.PHONE_MASK_FORMAT||e.common.widget_phone_mask,a.Queue.push("waitForSettingsReadyAndRunLoaders",function(){_||(l.WidgetManager.activeWidgetGroupList=Object.getOwnPropertyNames(e.widgets).filter(function(t){return null!==e.widgets[t]})),p("list active widget = [",l.WidgetManager.activeWidgetGroupList,"]");for(var i=function(i){e=_?{}:n(i,e);var o,s=l.WidgetManager.userInitialWidgetViewsOptions,c="sitephone"===i&&!s.sitephone,u="call_generator"===i&&s.call_generator2&&!s.call_generator&&!s.call_generator3,d="call_generator"===i&&!s.call_generator&&!s.call_generator2,p="offline_message_generator"===i&&!s.offline_message_generator;c?(e.widgets.sitephone.is_new=!0,o=new r.WidgetLoader("sitephone2",t)):o=u?new r.WidgetLoader("call_generator2",t):d?new r.WidgetLoader("call_generator3",t):p?new r.WidgetLoader("offline_message_generator2",t):new r.WidgetLoader(i,t),l.WidgetManager.widgetsOpts[i]=o.getOpts(),o.load(function(e){var t={__commands:["viewControllerReady:"+i]};t["viewControllerReady:"+i]=function(t){t&&t(e,o.getOpts())},a.Queue.registerAndProcess(["viewControllerReady:"+i],t,!0)})},o=0,s=l.WidgetManager.activeWidgetGroupList;o<s.length;o++){var c=s[o];i(c)}})}function n(e,t){return t.widgets[e].common=i({},t.widgets[e].common,t.common),t}function o(e){var t=d();for(var n in e)l.WidgetManager.userInitialWidgetViewsOptions[n]=e[n]&&e[n][t]}function s(e){m.C.PHONE_MASK_FORMAT=e}function u(e){return!!(!1===_||_&&Array.isArray(l.WidgetManager.activeWidgetGroupList))&&void e.call(this)}var d=c.util.getDeviceType,p=c.util.log;e.__commands=["applyWidgetsOptions","setUIPhoneMaskFormat","waitForSettingsReadyAndRunLoaders"];var _=void 0;e.init=t,e.applyWidgetsOptions=o,e.setUIPhoneMaskFormat=s,e.waitForSettingsReadyAndRunLoaders=u}(o=t.Core||(t.Core={})),a.Queue.registerAndProcess(o.__commands,o,!0),s.EventBus.on("waitforloadstyles",function(e,t){if(!_.SiteSettings.isWidgetsDisabled()){var n=l.WidgetManager.widgetsOpts[e].css,i=function(n,i){s.EventBus.fireEvent(e+":viewcontrollerrun",t,n,i)};if(n){n=d(n)(t);var o=u(n);t.id?o.id="comagic-"+e+"-"+t.id:o.id="comagic-"+e,o.onload=function(){p("styles was loaded from url "+n),a.Queue.push("viewControllerReady:"+e,function(e,t){document.body?i(e,t):document.addEventListener("DOMContentLoaded",function(){return i(e,t)})})},o.onerror=function(){p("error! styles was not loaded from url "+n)},document.head.appendChild(o)}else a.Queue.push("viewControllerReady:"+e,function(e,t){document.body?i(e,t):document.addEventListener("DOMContentLoaded",function(){return i(e,t)})})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(113),o=n(5),a=o.util.log,s=n(14),r=n(109),l=n(3),c=l.essential.mergeObjects,u=function(){function e(e,t){this.name=e,this.opts=c(i.getDefaultWidgetOpts(e,t),r.WidgetManager.userInitialWidgetViewsOptions[e]),r.WidgetManager.widgetsOpts[e]=this.getOpts()}return e.prototype.getOpts=function(){return this.opts},e.prototype.checkLoad=function(e){var t=this,n=e,i={},o={js:this.opts.js};for(var a in this.opts.tpls)o[a]=this.opts.tpls[a];return function(e,a){var s=!1;for(var r in o)o[r]===e&&("js"!==r&&(i[r]=a||""),o[r]=null),s=s||o[r];!s&&n(i,t.script)}},e.prototype.load=function(e){var t=this,n=this.checkLoad(e);if(this.opts.js&&(this.script=o.util.loadScript(this.opts.js,function(){a("scripts was loaded from url "+t.opts.js),n(t.opts.js)}),this.script.id="comagic-vc-"+this.name),this.opts.tpls){var i=function(e){s.ajax({url:r.opts.tpls[e],method:"GET",contentType:"text/html",complete:function(i){a("html was loaded from url "+t.opts.tpls[e]),n(t.opts.tpls[e],i.response)}})},r=this;for(var l in this.opts.tpls)i(l)}return this.script},e}();t.WidgetLoader=u},function(e,t,n){"use strict";function i(e,t){d=e,p=t}function o(){return"prod"===p?".min.js":".debug.js"}function a(e,t){var n={js:"",css:"",tpls:null},i=m.util.getDeviceType();return e&&(e[i]?(n.tpls=u({},e[i].tpls),n.css=e[i].css||"",n.js=e[i].js||""):_("views for "+t+" options doesn't found")),n}function s(e,t){return new g.essential.URL(t).replace({path:e})}function r(e,t){for(var n in e)e[n]=s(e[n],t);return e}function l(){return v.Storage.getItem("_cmg_customizeId")?"?uid="+v.Storage.getItem("_cmg_customizeId"):""}function c(e,t){var n=f.SiteSettings._viewsHost,i=a(d[e],e);if(n&&!h.WidgetManager.userInitialWidgetViewsOptions[e]){i.js=""+s(i.js,n)+o(),i.css=s(i.css,n),i.tpls=r(i.tpls,n),i.js=""+i.js+l(),i.css=""+i.css+l();for(var c in i.tpls)i.tpls[c]=""+i.tpls[c]+l()}else i.js=""+s(i.js,t)+o(),i.css=s(i.css,t),i.tpls=r(i.tpls,t);return i.beforeViewControllerRun=function(e,t){return e.is_personal_info_enabled=!1,e.personal_info_text=b.default("PERSONAL_INFO_TEXT"),{settings:e,tpls:t}},i.afterViewControllerRun=function(){},i}var u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var d,p,m=n(5),_=m.util.log,g=n(3),h=n(109),f=n(13),v=n(15),b=n(18);t.init=i,t.getPostfixWidgetUrl=o,t.getWidgetOptionsForCurrentDevice=a,t.getDefaultWidgetOpts=c},function(e,t,n){(function(t){function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e,t){for(var n=-1,i=e?e.length:0,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}function a(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function s(e,t){return o(t,function(t){return e[t]})}function r(e){return"\\"+z[e]}function l(e,t){return function(n){return e(t(n))}}function c(e,t){var n=de(e)||k(e)?a(e.length,String):[],i=n.length,o=!!i;for(var s in e)!t&&!ie.call(e,s)||o&&("length"==s||v(s,i))||n.push(s);return n}function u(e,t,n,i){return void 0===e||y(e,ne[n])&&!ie.call(i,n)?t:e}function d(e,t,n){var i=e[t];ie.call(e,t)&&y(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function p(e){if(!w(e))return re(e);var t=[];for(var n in Object(e))ie.call(e,n)&&"constructor"!=n&&t.push(n);return t}function m(e){if(!C(e))return E(e);var t=w(e),n=[];for(var i in e)("constructor"!=i||!t&&ie.call(e,i))&&n.push(i);return n}function _(e,t){return t=le(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=le(n.length-t,0),s=Array(a);++o<a;)s[o]=n[t+o];o=-1;for(var r=Array(t+1);++o<t;)r[o]=n[o];return r[t]=s,i(e,this,r)}}function g(e){if("string"==typeof e)return e;if(R(e))return ue?ue.call(e):"";var t=e+"";return"0"==t&&1/e==-U?"-0":t}function h(e,t,n,i){n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],r=i?i(n[s],e[s],s,n,e):void 0;d(n,s,void 0===r?e[s]:r)}return n}function f(e){return _(function(t,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&b(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++i<o;){var r=n[i];r&&e(t,r,i,a)}return t})}function v(e,t){return t=null==t?F:t,!!t&&("number"==typeof e||Q.test(e))&&e>-1&&e%1==0&&e<t}function b(e,t,n){if(!C(n))return!1;var i=typeof t;return!!("number"==i?T(n)&&v(t,n.length):"string"==i&&t in n)&&y(n[t],e)}function w(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ne;return e===n}function E(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function y(e,t){return e===t||e!==e&&t!==t}function k(e){return S(e)&&ie.call(e,"callee")&&(!se.call(e,"callee")||oe.call(e)==H)}function T(e){return null!=e&&I(e.length)&&!O(e)}function S(e){return N(e)&&T(e)}function A(e){return!!N(e)&&(oe.call(e)==W||"string"==typeof e.message&&"string"==typeof e.name)}function O(e){var t=C(e)?oe.call(e):"";return t==G||t==V}function I(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=F}function C(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function N(e){return!!e&&"object"==typeof e}function R(e){return"symbol"==typeof e||N(e)&&oe.call(e)==B}function P(e){return null==e?"":g(e)}function L(e){return T(e)?c(e):p(e)}function M(e){return T(e)?c(e,!0):m(e)}function j(e,t,n){var i=x.imports._.templateSettings||x;n&&b(e,t,n)&&(t=void 0),e=P(e),t=pe({},t,i,u);var o,a,l=pe({},t.imports,i.imports,u),c=L(l),d=s(l,c),p=0,m=t.interpolate||Z,_="__p += '",g=RegExp((t.escape||Z).source+"|"+m.source+"|"+(m===D?Y:Z).source+"|"+(t.evaluate||Z).source+"|$","g"),h="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";e.replace(g,function(t,n,i,s,l,c){return i||(i=s),_+=e.slice(p,c).replace(J,r),n&&(o=!0,_+="' +\n__e("+n+") +\n'"),l&&(a=!0,_+="';\n"+l+";\n__p += '"),i&&(_+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),p=c+t.length,t}),_+="';\n";var f=t.variable;f||(_="with (obj) {\n"+_+"\n}\n"),_=(a?_.replace(X,""):_).replace(K,"$1").replace(q,"$1;"),_="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+_+"return __p\n}";var v=me(function(){return Function(c,h+"return "+_).apply(void 0,d)});if(v.source=_,A(v))throw v;return v}var D=n(115),x=n(116),U=1/0,F=9007199254740991,H="[object Arguments]",W="[object Error]",G="[object Function]",V="[object GeneratorFunction]",B="[object Symbol]",X=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Q=/^(?:0|[1-9]\d*)$/,Z=/($^)/,J=/['\n\r\u2028\u2029\\]/g,z={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$="object"==typeof t&&t&&t.Object===Object&&t,ee="object"==typeof self&&self&&self.Object===Object&&self,te=$||ee||Function("return this")(),ne=Object.prototype,ie=ne.hasOwnProperty,oe=ne.toString,ae=te.Symbol,se=ne.propertyIsEnumerable,re=l(Object.keys,Object),le=Math.max,ce=ae?ae.prototype:void 0,ue=ce?ce.toString:void 0,de=Array.isArray,pe=f(function(e,t,n,i){h(t,M(t),e,i)}),me=_(function(e,t){try{return i(e,void 0,t)}catch(e){return A(e)?e:new Error(e)}});e.exports=j}).call(t,function(){return this}())},function(e,t){var n=/<%=([\s\S]+?)%>/g;e.exports=n},function(e,t,n){(function(t){function i(e){return function(t){return null==e?void 0:e[t]}}function o(e){if("string"==typeof e)return e;if(s(e))return S?S.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}function a(e){return!!e&&"object"==typeof e}function s(e){return"symbol"==typeof e||a(e)&&y.call(e)==d}function r(e){return null==e?"":o(e)}function l(e){return e=r(e),e&&m.test(e)?e.replace(p,w):e}var c=n(115),u=1/0,d="[object Symbol]",p=/[&<>"'`]/g,m=RegExp(p.source),_=/<%-([\s\S]+?)%>/g,g=/<%([\s\S]+?)%>/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},f="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,b=f||v||Function("return this")(),w=i(h),E=Object.prototype,y=E.toString,k=b.Symbol,T=k?k.prototype:void 0,S=T?T.toString:void 0,A={escape:_,evaluate:g,interpolate:c,variable:"",imports:{_:{escape:l}}};e.exports=A}).call(t,function(){return this}())},function(e,t,n){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){var o=i[n];p.WidgetManager.getWidget(o).show(!0)}}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){var o=i[n];p.WidgetManager.getWidget(o).hide(!0)}}function a(e){return p.WidgetManager.getWidget(e)}function s(e){var t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16);return(.299*t+.587*n+.114*i)/255*100<40?"FFFFFF":"000000"}function r(){return g.util.C.VALID_FILE_EXTENSIONS}function l(e){var t=h.default("MONTHS");return g.util.sformat(h.default("DATE_FORMAT"),e.getDate(),t[e.getMonth()])}function c(e){return e.getHours()+":"+("0"+e.getMinutes()).slice(-2)}function u(e,t){void 0===t&&(t={});var n=v(e),i=n(t);return w(i)}function d(e){E.essential.apply(t.C,{PLACEHOLDERS:h.default("PLACEHOLDERS",e),FIELD_IS_REQUIRED_ERROR_TEXT:h.default("FIELD_IS_REQUIRED_ERROR_TEXT",e),PREVIEW_CONSULTANT_OPERATOR_INFO:h.default("PREVIEW_CONSULTANT_OPERATOR_INFO",e),OPERATOR_TYPING_TEXT:h.default("OPERATOR_TYPING_TEXT",e),RATING_TEXT:h.default("RATING_TEXT",e),RATING_FEEDBACK_TEXT:h.default("RATING_FEEDBACK_TEXT",e),VCARD_TEXT:h.default("VCARD_TEXT",e),START_CHAT_TEXT:h.default("START_CHAT_TEXT",e),WELCOME_CHAT_TEXT:h.default("WELCOME_CHAT_TEXT",e),SEND_OFFLINE_MESSAGE_TEXT:h.default("SEND_OFFLINE_MESSAGE_TEXT",e),CALL_SITEPHONE_TEXT:h.default("CALL_SITEPHONE_TEXT",e),DATE_CHANGE_TITLE_TEXT:h.default("DATE_CHANGE_TITLE_TEXT",e),DATE_NOW_TITLE_TEXT:h.default("DATE_NOW_TITLE_TEXT",e),EDITOR_FIELD_TEXT:h.default("EDITOR_FIELD_TEXT",e),CALL_NOW_BUTTON_TEXT:h.default("CALL_NOW_BUTTON_TEXT",e),SELECT_DATETIME_BUTTON_TEXT:h.default("SELECT_DATETIME_BUTTON_TEXT",e),REPEAT_BUTTON_TEXT:h.default("REPEAT_BUTTON_TEXT",e),CALL_GENERATOR_TITLE:h.default("CALL_GENERATOR_TITLE",e),CALL_GENERATOR_MESSAGE:h.default("CALL_GENERATOR_MESSAGE",e),SUPPORTED_FILE_TYPES:".png,.xpm,.jpg,.doc,.docx,.txt,.xls,.xlsx,.csv,.odt,.ods,.pdf,.djvu,.xml,.fb2,.epub",MESSAGES_SETTINGS:{email:{sender:"bot",name:"email",text:h.default("EMAIL_MESSAGE",e).labelText,is_required:!0,feedbackText:h.default("EMAIL_MESSAGE",e).feedbackText,buttonText:h.default("EMAIL_MESSAGE",e).buttonText}},RETENTION_BUTTONS_SETTINGS:{chat:{sender:"bot",text:h.default("CHANGE_GROUP_MESSAGE",e).labelText,buttonText:h.default("CHANGE_GROUP_MESSAGE",e).buttonText},sitephone:{sender:"bot",text:h.default("SITEPHONE_MESSAGE",e).labelText,buttonText:h.default("SITEPHONE_MESSAGE",e).buttonText},offline_message:{sender:"bot",text:h.default("OFFLINE_MESSAGE_MESSAGE",e).labelText,buttonText:h.default("OFFLINE_MESSAGE_MESSAGE",e).buttonText}},IMAGES:{OPERATOR:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjBFM0Y1RkRBQjU5MTFFN0FFRjNDMEI1NkY1RTkxRDAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjBFM0Y1RkVBQjU5MTFFN0FFRjNDMEI1NkY1RTkxRDAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGMEUzRjVGQkFCNTkxMUU3QUVGM0MwQjU2RjVFOTFEMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGMEUzRjVGQ0FCNTkxMUU3QUVGM0MwQjU2RjVFOTFEMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Purx7vcAAAQ5SURBVHjavJfbTlxlFMfXMJwZhjOGcEq4wFIuuGBiU22sPoB4o8bonYkxvkCjT2DTR2gTL42tF0Z9AO1BE41cEAI4JEACISBny3BmZvr/7ezdTPfsvWePabqSj82evb71X986f4lisWhxaHFx8Yoe72nd0Lqq1aPVpvWf1rbWgtZjrV9GR0f/iSMzEQUuwIQe72t9VVtbey2VSllTU5M1NDSY3q2mpsYKhYJdXl7a2dmZnZycWC6X4/1P7bmt9ZMUKVYNLuBRPe4K6GZXV5cBHJdQYHd3F4Ue6vULKZCNDS7gDxOJxLfd3d2pjo4O+790cHBg29vbOWF8JgV+KGMAvHRls9nPl5aW8qenp8WXQchBHnL9WC+cXCf+QL78fnBwMFlXV1emKL5dXV21vb09Ozw8dN7xfWtrq/X391t7e7sTE366uLiwtbW1vPg/kQUelJkdH8vUfw8NDbUSUH4CbGZmxlpaWkzusMbGRksmk5bP502ns52dHTs6OrKJiQlHGT8RkFL8UHgZKbD4HNyN6l97e3tvor2fiOLp6WkbHh52wKMCDctMTk4GWoAY2NraIgjfJQtq3N+niOogYGhubs45bRQwREbAB38QIR8cN33NA79FOgUR5j4+PjZZJVaEw8ee/f39wO8uzi0HXCZ/XUHzZlgeIyTMImEEAAqEWUd416mYnHwqqoAAHhRAUdTc3BwK7ikALuA3YA4j0oR0qobq6+udII1STvQW4GMwv0py8a4C/lrUySg25Gg1RO4HFSmPXLxewNN0pzCithPt1RD+jooTFy/N36e0xTBCCB2qGiJI+/r6Qr+7eE8B/5caHXVyFFBligUMH4UmqMKV9ghYAV84Pz+PFDg+Pu7U7qgI9srwxsaGjYyMRPK5ePOAP6nkU05Bw1BhCLUAv6+srFgmk4k8NeTi/Z5Qn72i6FuopK13Muo23Ys6DwinoGHgGixUCRhaXl7G9GPeAPGHIjT2gCDNizopQ0JxfX29KKVi7wUHPHC9BL+jiP7RX2YJDHzN8ECuDwwMWE9Pj3M6Fv+X8uLvzc1Nxyp8S6fT5p8N3My54+/nv6kjvU0TKRVEQfAaC/2awaGtrc0R7A0TKMc3QPmdkoxr4CVbNBk5Srj9/JFEvUM/908y052dnSkGAg/UX/1QDKH4mnylYGAFJhvtL+MFkKcmJJTMuZNMtmx6lQIfSeB3qr3JOIETl3CZFM5L0U8FfP95pStlkKkeiOFLmbIQVfWqIeTIDQXklgK/AK7p0jGfUuaerPGxFMlVKj6ViP3IQZ6A75XVeP4QHPiGQHLrOQP+pKzxiG9R5TesfLKP/XrNBF4YPJ/Pz887LdCfaspJ7672tYLpDXiIcIKM4GJ5FwDMS+QT6Xr/S3u+qXhXI3JnZ2edob9Cm+SWOuXeUseYAzASn2hO7i31idbPcW+pzwQYANrNKHNaUINcAAAAAElFTkSuQmCC"},RESPONSE_CODES:h.default("RESPONSE_CODES",e),LEADGEN:h.default("LEADGEN",e)})}Object.defineProperty(t,"__esModule",{value:!0});var p=n(109),m=n(118),_=n(119),g=n(5),h=n(18),f=n(4),v=n(114),b=g.util.getDeviceType,w=g.util.createElFromHtml,E=n(3),y=n(120);t.show=i,t.hide=o,t.getWidget=a,t.getContrastColor=s;var k=n(119);t.Mobile=k.Mobile,t.formatPhoneNumber=function(e,t){t=t.replace(/\d/g,"_");var n=0;return t.replace(/_/g,function(){return e[n++]||""})},t.getValidFileFormatExtensions=r,"mobile"===b()&&_.initMobileEvents(),t.toDateString=l,t.toTimeString=c,t.createEl=u,t.C={},t.initWidgetTexts=d,f.Queue.push("waitForSiteSettingsAndRun",function(){return d()}),t.createObserver=m.default,t.isIE=g.util.isIE,t.debounce=g.util.debounce,t.Animator=y.Animations},function(e,t){"use strict";function n(e){return o||(o={isUsed:!1,sub:function(e){s.push(e)},pub:function(e){for(var t={},n=0,o=a;n<o.length;n++){var r=o[n];t=i({},t,r(e))}for(var l=0,c=s;l<c.length;l++){var u=c[l];u(t)}}}),e&&(o.isUsed=!0,a.push(e)),o}var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o,a=[],s=[];t.default=n},function(e,t,n){"use strict";function i(){return 90===Math.abs(window.orientation)?"landscape":"portrait"}function o(){var e={height:window.innerHeight,width:window.innerWidth};return window.visualViewport&&(e.height=window.visualViewport.height,e.width=window.visualViewport.width),e}function a(){var e={top:window.pageYOffset||window.document.documentElement.scrollTop||window.document.body&&window.document.body.scrollTop||0,left:window.pageXOffset||window.document.documentElement.scrollLeft||window.document.body&&window.document.body.scrollLeft||0};return window.visualViewport&&(e.top=window.visualViewport.pageTop||e.top,e.left=window.visualViewport.pageLeft||e.left),e}function s(){return parseInt(window.getComputedStyle(document.body).marginTop)}function r(){R=o()}function l(){P=a()}function c(){j=s()}function u(){r(),l(),c()}function d(){var e=o();return R.height!==e.height||R.width!==e.width}function p(){var e=a();return P.top!==e.top||P.left!==e.left}function m(){var e=s();return j!==e}function _(e,t){U[e]||(U[e]=!0,C.EventBus.fireEvent("api:ui:"+e+"start")),x[e]&&(window.clearTimeout(x[e]),u()),x[e]=setTimeout(function(){U[e]=!1,C.EventBus.fireEvent("api:ui:"+e+"end")},t)}function g(){u(),window.setInterval(function(){(p()||d()||m())&&_("action",D)},100)}function h(){document.body?g():window.addEventListener("load",g)}function f(){return window.screen.width<window.screen.height?window.screen.width/window.innerWidth:window.screen.height/window.innerHeight}function v(e){var t,n,i=e.replace(/ /g,"").split(","),o=i.length,a={};for(t=0;t<o;t++)n=i[t].split("="),a[n[0]]=n[1];return a}function b(e){var t,n=[],i="";for(t in e)e.hasOwnProperty(t)&&n.push(t+"="+e[t]);return i=n.join(",")}function w(){L={top:window.pageYOffset||window.document.documentElement.scrollTop||0,left:window.pageXOffset||window.document.documentElement.scrollLeft},window.document.body&&(M={top:window.document.body.scrollTop||0,left:window.document.body.scrollLeft||0})}function E(e){void 0===e&&(e=!1),window.scrollTo(e?0:L.left,e?0:L.top),window.document.body&&window.document.body.scrollTo(e?0:M.left,e?0:M.top)}function y(){if(H++,1===H){var e=document.querySelector("meta[name=viewport]");e?(O=e.getAttribute("content"),I=f()):(e=document.createElement("meta"),e.setAttribute("name","viewport"),document.querySelector("head").appendChild(e)),e.content=b({width:"device-width","user-scalable":"no","initial-scale":"1.0","minimum-scale":"1.0","maximum-scale":"1.0"})}}function k(){if(0!==H&&(H--,0===H)){var e=document.querySelector("meta[name=viewport]"),t=O?v(O):{"user-scalable":"yes","minimum-scale":"0.25","maximum-scale":"1.6"};N.util.apply(t,{"initial-scale":I||"0.25"}),e.content=b(t)}}function T(e){var t=document.body;if(e){if(1!==H)return;t.style.position="fixed",t.style.height="100%",t.style.overflow="visible"}else{if(0!==H)return;t.style.position="",t.style.height="",t.style.overflow=""}}function S(e){var t=a(),n=window.getComputedStyle(document.body).position,i=0;if("static"!==n)if("top"===e){null===W&&(W=t.top-Math.abs(document.body.getBoundingClientRect().top)),i=Math.abs(W);var o=s();o!==i&&0!==o&&(i+=o)}else"left"===e&&(null===G&&(G=document.body.getBoundingClientRect().left),i=G);return i}function A(e,t,n,s,r){var l=(window.visualViewport&&window.visualViewport.width||window.innerWidth)/100*("landscape"===i()?F:1),c=a(),u=o();for(var d in t)t.hasOwnProperty(d)&&("100%"===t[d]?e.style[d]=u[d]-2+"px":e.style[d]=Math.floor(parseFloat(t[d])*l)+"px");for(var d in n)n.hasOwnProperty(d)&&(e.style[d]=parseFloat(n[d])*l+"px");r?(r.top=Math.floor(parseFloat(r.top)*l),r.left=Math.floor(parseFloat(r.left)*l)):r={top:0,left:0};var p=e.style.height||e.offsetHeight;s&&("top"===s.top?e.style.top=c.top+r.top-S("top")+"px":"bottom"===s.top?e.style.top=c.top-r.top+u.height-parseFloat(p)-S("top")+"px":"middle"===s.top?e.style.top=c.top-r.top+u.height/2-parseFloat(p)/2-S("top")+"px":"middle-fixed"===s.top&&(e.style.top=c.top-r.top+u.height/2-parseFloat(p)-S("top")+"px"),"left"===s.left?e.style.left=c.left+r.left-S("left")+1+"px":"right"===s.left&&(e.style.left=c.left-r.left-S("left")+u.width-parseFloat(e.style.width)-1+"px"))}Object.defineProperty(t,"__esModule",{value:!0});var O,I,C=n(6),N=n(5),R={},P={},L={},M={},j=0,D=400,x={},U={},F=window.screen.availWidth<window.screen.availHeight?window.screen.availWidth/window.screen.availHeight:window.screen.availHeight/window.screen.availWidth,H=0,W=null,G=null;t.initMobileEvents=h;var V;!function(e){function t(){w(),y(),E(!0),T(!0)}function n(){k(),T(!1),E()}function i(){y()}function o(){k()}function a(){return!!H}function s(e,t,n,i,o){return A(e,t,n,i,o)}e.form=t,e.unform=n,e.setViewport=i,e.restoreViewport=o,e.isFullSizeMode=a,e.updateLabelStyles=s}(V=t.Mobile||(t.Mobile={}))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){function t(e,t,n,i){var o,a=e.scrollLeft,s=t-a,r=e.scrollTop,l=n-r,c=window.requestAnimationFrame||window.webkitRequestAnimationFrame;
c?c(function t(n){o||(o=n);var u=n-o,d=Math.min(u/i,1);e.scrollTo(a+s*d,r+l*d),u<i&&c(t)}):e.scrollTo(t,n)}e.smoothScroll=t}(n=t.Animations||(t.Animations={}))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_WIDGET_VIEWS_OPTIONS={personal_form:{desktop:{js:"/widget/js/lead/desktop/personal_form",css:"/widget/css/lead/desktop/lead_personal_form_desktop-<%=banner_color%>.css",tpls:{personal_form:"/widget/html/lead/desktop/personal_form.html"}},tablet:{js:"/widget/js/lead/desktop/personal_form",css:"/widget/css/lead/desktop/lead_personal_form_desktop-<%=banner_color%>.css",tpls:{personal_form:"/widget/html/lead/desktop/personal_form.html"}},mobile:{js:"/widget/js/lead/mobile/personal_form",css:"/widget/css/lead/mobile/lead_personal_form_mobile-<%=banner_color_mobile%>.css",tpls:{personal_form:"/widget/html/lead/mobile/personal_form.html"}}},call_generator:{desktop:{js:"/widget/js/lead/desktop/call_generator",css:"/widget/css/lead/desktop/lead_call_generator_desktop.css",tpls:{call_generator:"/widget/html/lead/desktop/call_generator.html"}},tablet:{js:"/widget/js/lead/desktop/call_generator",css:"/widget/css/lead/desktop/lead_call_generator_desktop.css",tpls:{call_generator:"/widget/html/lead/desktop/call_generator.html"}},mobile:{js:"/widget/js/lead/mobile/call_generator",css:"/widget/css/lead/mobile/lead_call_generator_mobile-<%=banner_color_mobile%>.css",tpls:{call_generator:"/widget/html/lead/mobile/call_generator.html"}}},call_generator2:{desktop:{js:"/widget/js/lead/desktop/call_generator2",css:"/widget/css/lead/desktop/lead_call_generator_desktop2.css",tpls:{call_generator:"/widget/html/lead/desktop/call_generator2.html"}},tablet:{js:"/widget/js/lead/desktop/call_generator2",css:"/widget/css/lead/desktop/lead_call_generator_desktop2.css",tpls:{call_generator:"/widget/html/lead/desktop/call_generator2.html"}},mobile:{js:"/widget/js/lead/mobile/call_generator",css:"/widget/css/lead/mobile/lead_call_generator_mobile-<%=banner_color_mobile%>.css",tpls:{call_generator:"/widget/html/lead/mobile/call_generator.html"}}},call_generator3:{desktop:{js:"/widget/js/lead/desktop/call_generator3",css:"/widget/css/lead/desktop/lead_call_generator_desktop3.css",tpls:{call_generator:"/widget/html/lead/desktop/call_generator3/call_generator.html",time_options:"/widget/html/lead/desktop/call_generator3/time_options.html"}},tablet:{js:"/widget/js/lead/desktop/call_generator3",css:"/widget/css/lead/desktop/lead_call_generator_desktop3.css",tpls:{call_generator:"/widget/html/lead/desktop/call_generator3/call_generator.html",time_options:"/widget/html/lead/desktop/call_generator3/time_options.html"}},mobile:{js:"/widget/js/lead/mobile/call_generator3",css:"/widget/css/lead/mobile/lead_call_generator_mobile3-<%=banner_color_mobile%>.css",tpls:{call_generator:"/widget/html/lead/mobile/call_generator3/call_generator.html",time_options:"/widget/html/lead/desktop/call_generator3/time_options.html"}}},offline_message_generator:{desktop:{js:"/widget/js/lead/desktop/offline_message_generator",css:"/widget/css/lead/desktop/lead_offline_message_generator_desktop-<%=banner_color%>.css",tpls:{offline_message_generator:"/widget/html/lead/desktop/offline_message_generator.html"}},tablet:{js:"/widget/js/lead/desktop/offline_message_generator",css:"/widget/css/lead/desktop/lead_offline_message_generator_desktop-<%=banner_color%>.css",tpls:{offline_message_generator:"/widget/html/lead/desktop/offline_message_generator.html"}},mobile:{js:"/widget/js/lead/mobile/offline_message_generator",css:"/widget/css/lead/mobile/lead_offline_message_generator_mobile-<%=banner_color_mobile%>.css",tpls:{offline_message_generator:"/widget/html/lead/mobile/offline_message_generator.html"}}},offline_message_generator2:{desktop:{js:"/widget/js/lead/desktop/offline_message_generator2",css:"/widget/css/lead/desktop/lead_offline_message_generator_desktop2-<%=banner_color%>.css",tpls:{offline_message_generator:"/widget/html/lead/desktop/offline_message_generator2.html"}},tablet:{js:"/widget/js/lead/desktop/offline_message_generator2",css:"/widget/css/lead/desktop/lead_offline_message_generator_desktop2-<%=banner_color%>.css",tpls:{offline_message_generator:"/widget/html/lead/desktop/offline_message_generator2.html"}},mobile:{js:"/widget/js/lead/mobile/offline_message_generator2",css:"/widget/css/lead/mobile/lead_offline_message_generator_mobile2-<%=banner_color_mobile%>.css",tpls:{offline_message_generator:"/widget/html/lead/mobile/offline_message_generator2.html"}}},consultant:{desktop:{js:"/widget/js/consultant/desktop/consultant",css:'/widget/css/consultant/desktop/consultant-<%=common["banner_color"]%>.css',tpls:{consultant_chat_bot_message:"/widget/html/consultant/desktop/consultant_chat_bot_message.html",consultant_chat_bot_email_message:"/widget/html/consultant/desktop/consultant_chat_bot_email_message.html",consultant_chat_bot_retention_btn_message:"/widget/html/consultant/desktop/consultant_chat_bot_retention_btn_message.html",consultant_chat_bot_rating_message:"/widget/html/consultant/desktop/consultant_chat_bot_rating_message.html",consultant_chat_bot_vcard_message:"/widget/html/consultant/desktop/consultant_chat_bot_vcard_message.html",consultant_chat_visitor_file_message:"/widget/html/consultant/desktop/consultant_chat_visitor_file_message.html",consultant_chat_operator_file_message:"/widget/html/consultant/desktop/consultant_chat_operator_file_message.html",consultant_chat_operator_message:"/widget/html/consultant/desktop/consultant_chat_operator_message.html",consultant_chat_visitor_message:"/widget/html/consultant/desktop/consultant_chat_visitor_message.html",consultant_chat_system_message:"/widget/html/consultant/desktop/consultant_chat_system_message.html",consultant_label:"/widget/html/consultant/desktop/consultant_label.html",rack:"/widget/html/consultant/desktop/consultant_rack.html",consultant_chat:"/widget/html/consultant/desktop/consultant_chat.html",consultant_chat_group_selector:"/widget/html/consultant/desktop/consultant_chat_group_selector.html",consultant_offline_message:"/widget/html/consultant/desktop/consultant_offline_message.html"}},tablet:{js:"/widget/js/consultant/desktop/consultant",css:'/widget/css/consultant/desktop/consultant-<%=common["banner_color"]%>.css',tpls:{consultant_chat_bot_message:"/widget/html/consultant/desktop/consultant_chat_bot_message.html",consultant_chat_bot_email_message:"/widget/html/consultant/desktop/consultant_chat_bot_email_message.html",consultant_chat_bot_retention_btn_message:"/widget/html/consultant/desktop/consultant_chat_bot_retention_btn_message.html",consultant_chat_bot_rating_message:"/widget/html/consultant/desktop/consultant_chat_bot_rating_message.html",consultant_chat_bot_vcard_message:"/widget/html/consultant/desktop/consultant_chat_bot_vcard_message.html",consultant_chat_visitor_file_message:"/widget/html/consultant/desktop/consultant_chat_visitor_file_message.html",consultant_chat_operator_file_message:"/widget/html/consultant/desktop/consultant_chat_operator_file_message.html",consultant_chat_operator_message:"/widget/html/consultant/desktop/consultant_chat_operator_message.html",consultant_chat_visitor_message:"/widget/html/consultant/desktop/consultant_chat_visitor_message.html",consultant_chat_system_message:"/widget/html/consultant/desktop/consultant_chat_system_message.html",consultant_label:"/widget/html/consultant/desktop/consultant_label.html",rack:"/widget/html/consultant/desktop/consultant_rack.html",consultant_chat:"/widget/html/consultant/desktop/consultant_chat.html",consultant_chat_group_selector:"/widget/html/consultant/desktop/consultant_chat_group_selector.html",consultant_offline_message:"/widget/html/consultant/desktop/consultant_offline_message.html"}},mobile:{js:"/widget/js/consultant/mobile/consultant",css:'/widget/css/consultant/mobile/consultant-<%=common["banner_color"]%>.css',tpls:{consultant_chat_bot_message:"/widget/html/consultant/mobile/consultant_chat_bot_message.html",consultant_chat_bot_retention_btn_message:"/widget/html/consultant/mobile/consultant_chat_bot_retention_btn_message.html",consultant_chat_bot_rating_message:"/widget/html/consultant/mobile/consultant_chat_bot_rating_message.html",consultant_chat_bot_vcard_message:"/widget/html/consultant/mobile/consultant_chat_bot_vcard_message.html",consultant_chat_visitor_file_message:"/widget/html/consultant/mobile/consultant_chat_visitor_file_message.html",consultant_chat_operator_file_message:"/widget/html/consultant/mobile/consultant_chat_operator_file_message.html",consultant_invite_operator_message:"/widget/html/consultant/mobile/consultant_invite_operator_message.html",consultant_chat_operator_message:"/widget/html/consultant/mobile/consultant_chat_operator_message.html",consultant_chat_visitor_message:"/widget/html/consultant/mobile/consultant_chat_visitor_message.html",consultant_chat_system_message:"/widget/html/consultant/mobile/consultant_chat_system_message.html",consultant_label:"/widget/html/consultant/mobile/consultant_label.html",consultant_invite:"/widget/html/consultant/mobile/consultant_invite.html",consultant_chat:"/widget/html/consultant/mobile/consultant_chat.html",consultant_chat_group_selector:"/widget/html/consultant/mobile/consultant_chat_group_selector.html",consultant_offline_message:"/widget/html/consultant/mobile/consultant_offline_message.html"}}},sitephone:{desktop:{js:"/widget/js/sitephone/desktop/sitephone",css:"/widget/css/sitephone/desktop/sitephone_desktop-<%=widget_color%>.css",tpls:{sitephone:"/widget/html/sitephone/desktop/sitephone.html",sitephone_label:"/widget/html/sitephone/desktop/sitephone_label.html"}},tablet:{js:"/widget/js/sitephone/desktop/sitephone",css:"/widget/css/sitephone/desktop/sitephone_desktop-<%=widget_color%>.css",tpls:{sitephone:"/widget/html/sitephone/desktop/sitephone.html",sitephone_label:"/widget/html/sitephone/desktop/sitephone_label.html"}},mobile:{js:"/widget/js/sitephone/mobile/sitephone",css:"/widget/css/sitephone/mobile/sitephone_mobile-<%=widget_color%>.css",tpls:{sitephone:"/widget/html/sitephone/mobile/sitephone.html"}}},sitephone2:{desktop:{js:"/widget/js/sitephone2/desktop/sitephone",css:"/widget/css/sitephone2/desktop/sitephone-<%=banner_color%>.css",tpls:{rack:"/widget/html/sitephone2/desktop/sitephone_rack.html",sitephone_label:"/widget/html/sitephone2/desktop/sitephone_label.html",simple_sitephone:"/widget/html/sitephone2/desktop/sitephone_simple.html",sitephone:"/widget/html/sitephone2/desktop/sitephone.html",sitephone_times_options:"/widget/html/sitephone2/desktop/sitephone_times_options.html"}},tablet:{js:"/widget/js/sitephone2/desktop/sitephone",css:"/widget/css/sitephone2/desktop/sitephone-<%=banner_color%>.css",tpls:{rack:"/widget/html/sitephone2/desktop/sitephone_rack.html",sitephone_label:"/widget/html/sitephone2/desktop/sitephone_label.html",simple_sitephone:"/widget/html/sitephone2/desktop/sitephone_simple.html",sitephone:"/widget/html/sitephone2/desktop/sitephone.html",sitephone_times_options:"/widget/html/sitephone2/desktop/sitephone_times_options.html"}},mobile:{js:"/widget/js/sitephone2/mobile/sitephone",css:"/widget/css/sitephone2/mobile/sitephone-<%=banner_color%>.css",tpls:{sitephone:"/widget/html/sitephone2/mobile/sitephone.html",sitephone_label:"/widget/html/sitephone2/mobile/sitephone_label.html",sitephone_times_options:"/widget/html/sitephone2/mobile/sitephone_times_options.html"}}},whatsapp:{desktop:{js:"/widget/js/whatsapp/desktop/whatsapp",css:"/widget/css/whatsapp/desktop/whatsapp-<%=banner_color%>.css",tpls:{rack:"/widget/html/whatsapp/desktop/whatsapp_rack.html",whatsapp_label:"/widget/html/whatsapp/desktop/whatsapp_label.html"}},tablet:{js:"/widget/js/whatsapp/desktop/whatsapp",css:"/widget/css/whatsapp/desktop/whatsapp-<%=banner_color%>.css",tpls:{rack:"/widget/html/whatsapp/desktop/whatsapp_rack.html",whatsapp_label:"/widget/html/whatsapp/desktop/whatsapp_label.html"}},mobile:{js:"/widget/js/whatsapp/mobile/whatsapp",css:"/widget/css/whatsapp/mobile/whatsapp-<%=banner_color%>.css",tpls:{whatsapp_label:"/widget/html/whatsapp/mobile/whatsapp_label.html"}}},custom_button_desktop:{desktop:{js:"/widget/js/leadgen/custom_button_desktop/custom_button_desktop",css:"/widget/css/leadgen/custom_button_desktop/custom_button_desktop-<%= leadgen.button_color.substr(1) %>-<%= leadgen.stock_icons_color.substr(1) %>.css",tpls:{custom_button_desktop:"/widget/html/leadgen/custom_button_desktop/custom_button_desktop.html"}},tablet:{js:"/widget/js/leadgen/custom_button_desktop/custom_button_desktop",css:"/widget/css/leadgen/custom_button_desktop/custom_button_desktop-<%= leadgen.button_color.substr(1) %>-<%= leadgen.stock_icons_color.substr(1) %>.css",tpls:{custom_button_desktop:"/widget/html/leadgen/custom_button_desktop/custom_button_desktop.html"}}},creative_callback_desktop:{desktop:{js:"/widget/js/leadgen/creative_callback_desktop/creative_callback_desktop",css:"/widget/css/leadgen/creative_callback_desktop/creative_callback_desktop-<%= leadgen.color_schema.substr(1) %>.css",tpls:{creative_callback_desktop:"/widget/html/leadgen/creative_callback_desktop/creative_callback_desktop.html"}},tablet:{js:"/widget/js/leadgen/creative_callback_desktop/creative_callback_desktop",css:"/widget/css/leadgen/creative_callback_desktop/creative_callback_desktop-<%= leadgen.color_schema.substr(1) %>.css",tpls:{creative_callback_desktop:"/widget/html/leadgen/creative_callback_desktop/creative_callback_desktop.html"}}},standard_callback_desktop:{desktop:{js:"/widget/js/leadgen/standard_callback_desktop/standard_callback_desktop",css:"/widget/css/leadgen/standard_callback_desktop/standard_callback_desktop-<%= leadgen.color_schema.substr(1) %>-<%= leadgen.rounding_radius %>.css",tpls:{standard_callback_desktop:"/widget/html/leadgen/standard_callback_desktop/standard_callback_desktop.html"}},tablet:{js:"/widget/js/leadgen/standard_callback_desktop/standard_callback_desktop",css:"/widget/css/leadgen/standard_callback_desktop/standard_callback_desktop-<%= leadgen.color_schema.substr(1) %>-<%= leadgen.rounding_radius %>.css",tpls:{standard_callback_desktop:"/widget/html/leadgen/standard_callback_desktop/standard_callback_desktop.html"}}},side_media_callback_desktop:{desktop:{js:"/widget/js/leadgen/side_media_callback_desktop/side_media_callback_desktop",css:"/widget/css/leadgen/side_media_callback_desktop/side_media_callback_desktop-<%= leadgen.color_schema.substr(1) %>-<%= leadgen.rounding_radius %>-<%= leadgen.rounding_radius_internal_elements %>.css",tpls:{side_media_callback_desktop:"/widget/html/leadgen/side_media_callback_desktop/side_media_callback_desktop.html"}},tablet:{js:"/widget/js/leadgen/side_media_callback_desktop/side_media_callback_desktop",css:"/widget/css/leadgen/side_media_callback_desktop/side_media_callback_desktop-<%= leadgen.color_schema.substr(1) %>-<%= leadgen.rounding_radius %>-<%= leadgen.rounding_radius_internal_elements %>.css",tpls:{side_media_callback_desktop:"/widget/html/leadgen/side_media_callback_desktop/side_media_callback_desktop.html"}}},media_callback_desktop:{desktop:{js:"/widget/js/leadgen/media_callback_desktop/media_callback_desktop",css:"/widget/css/leadgen/media_callback_desktop/media_callback_desktop.css",tpls:{media_callback_desktop:"/widget/html/leadgen/media_callback_desktop/media_callback_desktop.html"}},tablet:{js:"/widget/js/leadgen/media_callback_desktop/media_callback_desktop",css:"/widget/css/leadgen/media_callback_desktop/media_callback_desktop.css",tpls:{media_callback_desktop:"/widget/html/leadgen/media_callback_desktop/media_callback_desktop.html"}}},mini_callback_desktop:{desktop:{js:"/widget/js/leadgen/mini_callback_desktop/mini_callback_desktop",css:"/widget/css/leadgen/mini_callback_desktop/mini_callback_desktop-<%= leadgen.color_schema.substr(1) %>-<%= leadgen.checkbox_brightness %>.css",tpls:{mini_callback_desktop:"/widget/html/leadgen/mini_callback_desktop/mini_callback_desktop.html"}},tablet:{js:"/widget/js/leadgen/mini_callback_desktop/mini_callback_desktop",css:"/widget/css/leadgen/mini_callback_desktop/mini_callback_desktop-<%= leadgen.color_schema.substr(1) %>-<%= leadgen.checkbox_brightness %>.css",tpls:{mini_callback_desktop:"/widget/html/leadgen/mini_callback_desktop/mini_callback_desktop.html"}}},universal_callback_desktop:{desktop:{js:"/widget/js/leadgen/universal_callback_desktop/universal_callback_desktop",css:"/widget/css/leadgen/universal_callback_desktop/universal_callback_desktop-<%= leadgen.close_button_color.substr(1) %>-<%= leadgen.checkbox_color.substr(1) %>.css",tpls:{universal_callback_desktop:"/widget/html/leadgen/universal_callback_desktop/universal_callback_desktop.html"}},tablet:{js:"/widget/js/leadgen/universal_callback_desktop/universal_callback_desktop",css:"/widget/css/leadgen/universal_callback_desktop/universal_callback_desktop-<%= leadgen.close_button_color.substr(1) %>-<%= leadgen.checkbox_color.substr(1) %>.css",tpls:{universal_callback_desktop:"/widget/html/leadgen/universal_callback_desktop/universal_callback_desktop.html"}}},popup_chat_desktop:{desktop:{js:"/widget/js/leadgen/popup_chat_desktop/popup_chat_desktop",css:"/widget/css/leadgen/popup_chat_desktop/popup_chat_desktop.css",tpls:{popup_chat_desktop:"/widget/html/leadgen/popup_chat_desktop/popup_chat_desktop.html",popup_chat_desktop_message:"/widget/html/leadgen/popup_chat_desktop/popup_chat_desktop_message.html",popup_chat_desktop_title_message:"/widget/html/leadgen/popup_chat_desktop/popup_chat_desktop_title_message.html",popup_chat_desktop_itr_form:"/widget/html/leadgen/popup_chat_desktop/popup_chat_desktop_itr_form.html",popup_chat_desktop_emoji_popup:"/widget/html/leadgen/popup_chat_desktop/popup_chat_desktop_emoji_popup.html",popup_chat_desktop_files_preview_popup:"/widget/html/leadgen/popup_chat_desktop/popup_chat_desktop_files_preview_popup.html"}},tablet:{js:"/widget/js/leadgen/popup_chat_desktop/popup_chat_desktop",css:"/widget/css/leadgen/popup_chat_desktop/popup_chat_desktop.css",tpls:{popup_chat_desktop:"/widget/html/leadgen/popup_chat_desktop/popup_chat_desktop.html",popup_chat_desktop_message:"/widget/html/leadgen/popup_chat_desktop/popup_chat_desktop_message.html",popup_chat_desktop_title_message:"/widget/html/leadgen/popup_chat_desktop/popup_chat_desktop_title_message.html",popup_chat_desktop_itr_form:"/widget/html/leadgen/popup_chat_desktop/popup_chat_desktop_itr_form.html",popup_chat_desktop_emoji_popup:"/widget/html/leadgen/popup_chat_desktop/popup_chat_desktop_emoji_popup.html",popup_chat_desktop_files_preview_popup:"/widget/html/leadgen/popup_chat_desktop/popup_chat_desktop_files_preview_popup.html"}}},custom_button_mobile:{mobile:{js:"/widget/js/leadgen/custom_button_mobile/custom_button_mobile",css:"/widget/css/leadgen/custom_button_mobile/custom_button_mobile-<%= leadgen.button_color.substr(1) %>-<%= leadgen.stock_icons_color.substr(1) %>.css",tpls:{custom_button_mobile:"/widget/html/leadgen/custom_button_mobile/custom_button_mobile.html"}}},custom_mobile:{mobile:{js:"/widget/js/leadgen/custom_mobile/custom_mobile",css:"/widget/css/leadgen/custom_mobile/custom_mobile-<%= leadgen.color_schema.substr(1) %>.css",tpls:{custom_mobile:"/widget/html/leadgen/custom_mobile/custom_mobile.html"}}},custom_mobile_v2:{mobile:{js:"/widget/js/leadgen/custom_mobile_v2/custom_mobile_v2",css:"/widget/css/leadgen/custom_mobile_v2/custom_mobile_v2.css",tpls:{custom_mobile_v2:"/widget/html/leadgen/custom_mobile_v2/custom_mobile_v2.html"}}},popup_chat_mobile:{mobile:{js:"/widget/js/leadgen/popup_chat_mobile/popup_chat_mobile",css:"/widget/css/leadgen/popup_chat_mobile/popup_chat_mobile.css",tpls:{popup_chat_mobile:"/widget/html/leadgen/popup_chat_mobile/popup_chat_mobile.html",popup_chat_mobile_chat_message:"/widget/html/leadgen/popup_chat_mobile/popup_chat_mobile_chat_message.html",popup_chat_mobile_title_message:"/widget/html/leadgen/popup_chat_mobile/popup_chat_mobile_title_message.html",popup_chat_mobile_date_message:"/widget/html/leadgen/popup_chat_mobile/popup_chat_mobile_date_message.html",popup_chat_mobile_last_operator_info:"/widget/html/leadgen/popup_chat_mobile/popup_chat_mobile_last_operator_info.html",popup_chat_mobile_files_preview:"/widget/html/leadgen/popup_chat_mobile/popup_chat_mobile_files_preview.html",popup_chat_mobile_itr_form:"/widget/html/leadgen/popup_chat_mobile/popup_chat_mobile_itr_form.html"}}}}},function(e,t,n){"use strict";function i(e,t){o.EventBus.on(e+":viewcontrollerrun",function(n,i,s){var r=n.id?e+":"+n.id+":fire_event":e+":fire_event",l={__commands:[r]};l[r]=function(e,t){o.EventBus.fireEvent(e,t)};var c=s.beforeViewControllerRun(n,i),u=c.settings,d=c.tpls;t(u,d),s.afterViewControllerRun(window.Comagic.UI),a.Queue.registerAndProcess(l.__commands,l,!0)})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=n(4);t.registerViewController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),a=n(5),s=n(26),r=n(1);!function(e){function t(e){if(e.tg){var t=a.util.prepareSelector(e.tg),n=document.querySelectorAll(t);if(n)try{void 0===i&&(i=s.domhelper.text(n));var o=r.CookieShop.getVisitorId();s.domhelper.text(n,(i||"")+(e.pr?e.pr:"")+(o.length<=+e.tl?o:o.slice(-e.tl)))}catch(e){a.util.log(e)}}}function n(e,n){t(o.essential.apply({},n.ve))}var i;e.embedVisitorId=t,e.run=n}(i=t.VisitorIdEmbedder||(t.VisitorIdEmbedder={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(5);!function(e){function t(e){e&&e.smartis_token&&this.initSmartis(e.smartis_token)}function n(e){o.util.loadScript("https://smartcallback.ru/api/SmartCallBack.js?t="+e)}e.init=t,e.initSmartis=n}(i=t.RelatedServices||(t.RelatedServices={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(5),a=n(12);!function(e){function t(){i=o.util.getTimestamp(),n()}function n(){window.smAnalytics&&window.smAnalytics.getSessionId()?s("sm_session_id",window.smAnalytics.getSessionId()):o.util.getTimestamp()-i<r&&window.setTimeout(function(){e.detect()},l)}var i,s=a.Analytics.sendSessionParameter,r=25,l=100;e.onAlyTrackview=t,e.detect=n}(i=t.Smartis||(t.Smartis={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(5),a=n(12);!function(e){function t(){i=o.util.getTimestamp(),n()}function n(){window.CBHCore&&window.CBHCore.user&&window.CBHCore.user.session_id?s("cbh_session_id",window.CBHCore.user.session_id):o.util.getTimestamp()-i<r&&window.setTimeout(function(){e.detect()},l)}var i,s=a.Analytics.sendSessionParameter,r=25,l=100;e.onAlyTrackview=t,e.detect=n}(i=t.CallBackHunter||(t.CallBackHunter={}))}]));